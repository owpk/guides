<!DOCTYPE html>
<!-- saved from url=(0072)https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<title>Как настроить сервер OpenVPN в Ubuntu 16.04 | DigitalOcean</title>

<meta name="description" content="Хотите иметь безопасный и защищённый доступ в Интернет с вашего смартфона или ноутбука при подключении к незащищённой сети через WiFi отеля или кафе Виртуальная частная сеть (Virtual Private Network, VPN) позволяет...">

<link rel="apple-touch-icon" sizes="180x180" href="https://www.digitalocean.com/assets/community/apple-icon-180x180-7cfa57a663a6018512c36d26bbf3fbf4.png">
<link rel="apple-touch-icon" sizes="152x152" href="https://www.digitalocean.com/assets/community/apple-icon-152x152-72bb6155ca60aff64dbfe8f4ba7872d7.png">
<link rel="apple-touch-icon" sizes="144x144" href="https://www.digitalocean.com/assets/community/apple-icon-144x144-42910a539ffa155564177508290143e5.png">
<link rel="apple-touch-icon" sizes="120x120" href="https://www.digitalocean.com/assets/community/apple-icon-120x120-a8dac8a29b106a451ace9158e750b123.png">
<link rel="apple-touch-icon" sizes="114x114" href="https://www.digitalocean.com/assets/community/apple-icon-114x114-96787f804b626b8e1c33805014c0b62f.png">
<link rel="apple-touch-icon" sizes="76x76" href="https://www.digitalocean.com/assets/community/apple-icon-76x76-86662fa594148be74d14b6b7afe15231.png">
<link rel="apple-touch-icon" sizes="72x72" href="https://www.digitalocean.com/assets/community/apple-icon-72x72-9fd2efba53b3e713d7d905717f1e225c.png">
<link rel="apple-touch-icon" sizes="60x60" href="https://www.digitalocean.com/assets/community/apple-icon-60x60-ae726a3453fd94d37fa5f54b60f21c27.png">
<link rel="apple-touch-icon" sizes="57x57" href="https://www.digitalocean.com/assets/community/apple-icon-57x57-d2743f8eb69264c906d4cf1107f7a7fb.png">

<link rel="icon" type="image/png" sizes="192x192" href="https://www.digitalocean.com/assets/community/android-icon-192x192-c995696140189b712c4fcc68b426ede5.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://www.digitalocean.com/assets/community/favicon-32x32-5f934f5585baa8cefeae9d7a4b3d3f1f.png">
<link rel="icon" type="image/png" sizes="96x96" href="https://www.digitalocean.com/assets/community/favicon-96x96-a89e0b14e66e4063010e7ded4034aa3a.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://www.digitalocean.com/assets/community/favicon-16x16-0bdd2bc48094fc75c4be7efc7c8cb424.png">

<meta name="msapplication-TileImage" content="/assets/community/ms-icon-144x144-42910a539ffa155564177508290143e5.png">
<meta name="msapplication-TileColor" content="#0069ff">
<meta name="theme-color" content="#0069ff">

<meta name="og:title" content="Как настроить сервер OpenVPN в Ubuntu 16.04 | DigitalOcean">
<meta name="og:description" content="Хотите иметь безопасный и защищённый доступ в Интернет с вашего смартфона или ноутбука при подключении к незащищённой сети через WiFi отеля или кафе Виртуальная частная сеть (Virtual Private Network, VPN) позволяет...">
<meta name="og:site_name" content="DigitalOcean">
<meta name="og:type" content="article">
<meta name="og:image" content="https://www.digitalocean.com/assets/community/illustrations/DigitalOcean_Community-02cc36407e7a978ed4fc9ed98f3ed87c.jpg">

<meta name="twitter:site" content="DigitalOcean">
<meta name="twitter:title" content="Как настроить сервер OpenVPN в Ubuntu 16.04 | DigitalOcean">
<meta name="twitter:description" content="Хотите иметь безопасный и защищённый доступ в Интернет с вашего смартфона или ноутбука при подключении к незащищённой сети через WiFi отеля или кафе Виртуальная частная сеть (Virtual Private Network, VPN) позволяет...">
<meta name="twitter:creator" content="DigitalOcean">
<meta name="twitter:card" content="photo">
<meta name="twitter:url" content="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru">
<meta name="twitter:image" content="https://www.digitalocean.com/assets/community/illustrations/DigitalOcean_Community-02cc36407e7a978ed4fc9ed98f3ed87c.jpg">

  <link rel="canonical" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru">

  <link rel="amphtml" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru.amp">

        <link rel="alternate" hreflang="en" href="https://www.digitalocean.com/community/tutorials/how-to-set-up-an-openvpn-server-on-ubuntu-16-04">
      <link rel="alternate" hreflang="es" href="https://www.digitalocean.com/community/tutorials/como-configurar-un-servidor-openvpn-en-ubuntu-16-04-es">
      <link rel="alternate" hreflang="pt" href="https://www.digitalocean.com/community/tutorials/como-configurar-um-servidor-openvpn-no-ubuntu-16-04-pt">
      <link rel="alternate" hreflang="ru" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru">


    <link rel="preconnect" href="https://digitalocean.cdn.prismic.io/">
    <link rel="preconnect" href="https://hello.myfonts.net/">
    <link rel="stylesheet" media="all" href="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/application-42858ff452426eed9c1c7fb269eb4680.css">

    
    <meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="+n9wWl2440HZbWAtqTrv2MAVQKmcGNU1h0ouoWs3evI9IWFH7HMChoYxg2FF6g1H7/MvN67WOoZdWhRIA/Ko+w==">
    <script type="text/javascript" async="" src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/linkid.js.Без названия"></script><script src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/pixel.js.Без названия" async=""></script><script type="text/javascript" async="" src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/analytics.js.Без названия"></script><script async="" src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/gtm.js.Без названия"></script><script type="text/javascript" async="" src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/analytics.min.js.Без названия"></script><script src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/prerequisites-4ce77745092b47fb9e02daf4a5204fc6.js.Без названия"></script>
    <script>
//<![CDATA[

  window.cookieDomain = '.digitalocean.com';

//]]>
</script><script defer="" src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/cookieConsent.js.Без названия"></script>
<script>
  (function () {
    document.addEventListener("DOMContentLoaded", function () {
      var css = document.getElementById("cookie-consent-css");

      if (css) { return; }

      css = document.createElement("link");
      css.id = "cookie-consent-css";
      css.rel = "stylesheet";
      css.href = "https://assets.digitalocean.com/cookieConsent/cookieConsent.css";
      document.head.insertBefore(css, document.head.childNodes[ document.head.childNodes.length - 1 ].nextSibling);
    }, false);
  })();
</script>

    <script type="text/javascript">
  if(window.analytics=window.analytics||[],window.analytics.included)window.console&&console.error&&console.error("analytics.js included twice");else{window.analytics.included=!0,window.analytics.methods=["identify","group","track","page","pageview","alias","ready","on","once","off","trackLink","trackForm","trackClick","trackSubmit"],window.analytics.factory=function(a){return function(){var n=Array.prototype.slice.call(arguments);return n.unshift(a),window.analytics.push(n),window.analytics}};for(var i=0;i<window.analytics.methods.length;i++){var key=window.analytics.methods[i];window.analytics[key]=window.analytics.factory(key)}window.analytics.load=function(a){var n=document.createElement("script");n.type="text/javascript",n.async=!0,n.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+a+"/analytics.min.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(n,t)},window.analytics.SNIPPET_VERSION="2.0.9",window.analytics.load("puo3uv968t")}
  window.analytics.page();
</script>

<!-- Google Tag Manager -->
<script>
  (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-KHWBBT');
</script>
<!-- End Google Tag Manager -->

<script src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/internalCookies-8ace97976ab0fb16d124f7afad39c327.js.Без названия"></script>

      <script src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/polyfill.min.js.Без названия"></script>

    <link rel="alternate" type="application/rss+xml" title="RSS" href="https://www.digitalocean.com/community/tutorials/feed">
    <script>
      window.comApp = {
        prefix: '/community',
        svgIconPath: 'https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg',
        railsEnv: 'production',
        rootUrl: 'https://www.digitalocean.com/community',
        algolia_application_id: '6ZHEUVKJ88',
        algolia_api_key: 'c5470567eae7fa1177d43222e18ba086'
      };
    </script>
    
    <script>
  window.Prism = window.Prism || {};
  window.Prism.manual = true;
</script>
 
    <script src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/application-ee04c10dc5f32944bfd1186d2e9f0e72.js.Без названия"></script><style type="text/css">.clamp-ellipsis.is-not-required {
  visibility: hidden !important;
}
.clamp-hidden {
  display: none !important;
}</style><script src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/clipboard.min.js.Без названия"></script>
  <script id="universal-search" defer="" src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/search.js.gz"></script><link id="cookie-consent-css" rel="stylesheet" href="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/cookieConsent.css"><style>.fluidvids {width: 100%; max-width: 100%; position: relative;}.fluidvids-item {position: absolute; top: 0px; left: 0px; width: 100%; height: 100%;}</style><style type="text/css">.ais-Breadcrumb-list,.ais-CurrentRefinements-list,.ais-HierarchicalMenu-list,.ais-Hits-list,.ais-InfiniteHits-list,.ais-InfiniteResults-list,.ais-Menu-list,.ais-NumericMenu-list,.ais-Pagination-list,.ais-RatingMenu-list,.ais-RefinementList-list,.ais-Results-list,.ais-ToggleRefinement-list{margin:0;padding:0;list-style:none}.ais-ClearRefinements-button,.ais-CurrentRefinements-delete,.ais-CurrentRefinements-reset,.ais-GeoSearch-redo,.ais-GeoSearch-reset,.ais-HierarchicalMenu-showMore,.ais-InfiniteHits-loadMore,.ais-InfiniteHits-loadPrevious,.ais-InfiniteResults-loadMore,.ais-Menu-showMore,.ais-RangeInput-submit,.ais-RefinementList-showMore,.ais-SearchBox-reset,.ais-SearchBox-submit,.ais-VoiceSearch-button{padding:0;overflow:visible;font:inherit;line-height:normal;color:inherit;background:none;border:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ais-ClearRefinements-button::-moz-focus-inner,.ais-CurrentRefinements-delete::-moz-focus-inner,.ais-CurrentRefinements-reset::-moz-focus-inner,.ais-GeoSearch-redo::-moz-focus-inner,.ais-GeoSearch-reset::-moz-focus-inner,.ais-HierarchicalMenu-showMore::-moz-focus-inner,.ais-InfiniteHits-loadMore::-moz-focus-inner,.ais-InfiniteHits-loadPrevious::-moz-focus-inner,.ais-InfiniteResults-loadMore::-moz-focus-inner,.ais-Menu-showMore::-moz-focus-inner,.ais-RangeInput-submit::-moz-focus-inner,.ais-RefinementList-showMore::-moz-focus-inner,.ais-SearchBox-reset::-moz-focus-inner,.ais-SearchBox-submit::-moz-focus-inner,.ais-VoiceSearch-button::-moz-focus-inner{padding:0;border:0}.ais-ClearRefinements-button[disabled],.ais-CurrentRefinements-delete[disabled],.ais-CurrentRefinements-reset[disabled],.ais-GeoSearch-redo[disabled],.ais-GeoSearch-reset[disabled],.ais-HierarchicalMenu-showMore[disabled],.ais-InfiniteHits-loadMore[disabled],.ais-InfiniteHits-loadPrevious[disabled],.ais-InfiniteResults-loadMore[disabled],.ais-Menu-showMore[disabled],.ais-RangeInput-submit[disabled],.ais-RefinementList-showMore[disabled],.ais-SearchBox-reset[disabled],.ais-SearchBox-submit[disabled],.ais-VoiceSearch-button[disabled]{cursor:default}.ais-Breadcrumb-item,.ais-Breadcrumb-list,.ais-Pagination-list,.ais-PoweredBy,.ais-RangeInput-form,.ais-RatingMenu-link{display:flex;align-items:center}.ais-GeoSearch,.ais-GeoSearch-map{height:100%}.ais-HierarchicalMenu-list .ais-HierarchicalMenu-list{margin-left:1em}.ais-PoweredBy-logo{display:block;height:1.2em;width:auto}.ais-RatingMenu-starIcon{display:block;width:20px;height:20px}.ais-SearchBox-input::-ms-clear,.ais-SearchBox-input::-ms-reveal{display:none;width:0;height:0}.ais-SearchBox-input::-webkit-search-cancel-button,.ais-SearchBox-input::-webkit-search-decoration,.ais-SearchBox-input::-webkit-search-results-button,.ais-SearchBox-input::-webkit-search-results-decoration{display:none}.ais-RangeSlider .rheostat{overflow:visible;margin-top:40px;margin-bottom:40px}.ais-RangeSlider .rheostat-background{height:6px;top:0;width:100%}.ais-RangeSlider .rheostat-handle{margin-left:-12px;top:-7px}.ais-RangeSlider .rheostat-background{position:relative;background-color:#fff;border:1px solid #aaa}.ais-RangeSlider .rheostat-progress{position:absolute;top:1px;height:4px;background-color:#333}.rheostat-handle{position:relative;z-index:1;width:20px;height:20px;background-color:#fff;border:1px solid #333;border-radius:50%;cursor:-webkit-grab;cursor:grab}.rheostat-marker{margin-left:-1px;position:absolute;width:1px;height:5px;background-color:#aaa}.rheostat-marker--large{height:9px}.rheostat-value{padding-top:15px}.rheostat-tooltip,.rheostat-value{margin-left:50%;position:absolute;text-align:center;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.rheostat-tooltip{top:-22px}@font-face{font-family:Sailec-Regular;src:url(https://assets.digitalocean.com/labs/fonts/Sailec-Regular.woff2) format("woff2"),url(https://assets.digitalocean.com/labs/fonts/Sailec-Regular.woff) format("woff")}@font-face{font-family:Sailec-Medium;src:url(https://assets.digitalocean.com/labs/fonts/Sailec-Medium.woff2) format("woff2"),url(https://assets.digitalocean.com/labs/fonts/Sailec-Medium.woff) format("woff")}body.algolia-universal-search_modal_opened{overflow:hidden}div.algolia-universal-search{font-family:Sailec-Regular}div.algolia-universal-search.algolia-universal-search_inline .instructions-bar{display:none}div.algolia-universal-search.algolia-universal-search_inline:focus-within .instructions-bar{display:block}div.algolia-universal-search.algolia-universal-search_modal div.widget-container.opened{visibility:visible}div.algolia-universal-search.algolia-universal-search_inline .escape{display:none}div.algolia-universal-search.algolia-universal-search_modal div.widget-container{position:fixed;z-index:16777271;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:#000;background-color:rgba(0,0,0,.4);visibility:hidden}div.algolia-universal-search .widget-content{position:relative}div.algolia-universal-search.algolia-universal-search_modal .widget-content{box-sizing:border-box;box-shadow:0 2px 20px rgba(3,27,78,.1);border-radius:3px;background-color:#f3f5f9;margin:auto;width:70%;max-width:1200px;height:auto;max-height:70%;position:absolute;top:15%;left:50%;-webkit-transform:translate(-50%);transform:translate(-50%)}div.algolia-universal-search div.widget-content{display:grid;grid-template-rows:auto 1fr}div.algolia-universal-search div#searchbox-widget-container .search_icon{position:absolute;top:24px;left:20px}div.algolia-universal-search div#searchbox-widget-container input{font-size:20px;line-height:30px;color:#031b4e;background:none;width:100%;padding:16px 54px 12px;border-radius:3px 3px 0 0;border:1px solid #e5e8ed;box-sizing:border-box}div.algolia-universal-search div#searchbox-widget-container input:focus{outline:none}div.algolia-universal-search div#results-widget-container{display:grid;grid-template-rows:-webkit-min-content;grid-template-rows:min-content;overflow-y:auto;padding:20px;background:#fff}@media (min-width:1025px){div.algolia-universal-search div#results-widget-container{grid-template-columns:1.5fr 1fr;grid-template-rows:auto}}div.algolia-universal-search div#results-widget-container h2{color:#99a1b3;font-size:14px;font-weight:400;line-height:150%;padding:0 15px;margin-bottom:0}div.algolia-universal-search div#results-widget-container li{padding:10px 15px 5px;margin-bottom:5px;border-radius:6px;position:relative}div.algolia-universal-search div#results-widget-container li .return.icon{position:absolute;top:10px;right:9.5px}div.algolia-universal-search div#results-widget-container li a{color:#031b4e;text-decoration:none}div.algolia-universal-search div#results-widget-container li a .eyebrow{text-transform:uppercase;font-size:10px;font-family:Sailec-Medium;color:#5b6987}div.algolia-universal-search div#results-widget-container li a h4{margin:5px 0;font-family:Sailec-Regular;font-weight:500}div.algolia-universal-search div#results-widget-container li a p{color:#5b6987;margin:0 0 5px;font-size:14px}div.algolia-universal-search div#results-widget-container .navigate-highlighted,div.algolia-universal-search div#results-widget-container li:hover{background:#0069ff}div.algolia-universal-search div#results-widget-container .navigate-highlighted .eyebrow,div.algolia-universal-search div#results-widget-container .navigate-highlighted h4,div.algolia-universal-search div#results-widget-container li:hover .eyebrow,div.algolia-universal-search div#results-widget-container li:hover h4{color:#fff}div.algolia-universal-search div#results-widget-container .navigate-highlighted p,div.algolia-universal-search div#results-widget-container li:hover p{color:#f3f5f9}div.algolia-universal-search div#results-widget-container .primary-content h2{display:none}div.algolia-universal-search div#results-widget-container .primary-content .ais-Highlight-highlighted{background:none;color:inherit}div.algolia-universal-search div#results-widget-container .primary-content .ais-Hits--empty{padding:0 15px;color:#031b4e}div.algolia-universal-search div#results-widget-container .secondary-content{margin-left:5px}div.algolia-universal-search div#results-widget-container .secondary-content li{padding-left:10px;padding-right:10px;margin-left:5px}div.algolia-universal-search div#results-widget-container .secondary-content .navigate-highlighted,div.algolia-universal-search div#results-widget-container .secondary-content li:hover{background:#0069ff}div.algolia-universal-search div#results-widget-container .secondary-content .navigate-highlighted a,div.algolia-universal-search div#results-widget-container .secondary-content li:hover a{color:#f3f5f9}div.algolia-universal-search div#results-widget-container .secondary-content .ais-Highlight-highlighted{background:none;color:inherit}div.algolia-universal-search div#results-widget-container .navigate-highlighted{background:#0069ff}div.algolia-universal-search.algolia-universal-search_no-secondary div#results-widget-container{display:block}div.algolia-universal-search .instructions-bar{bottom:0;left:0;right:0;background:#fff;border-top:1px solid #f3f5f9;color:#5b6987;padding:15px 20px 12px;border-radius:0 0 3px 3px;font-size:12px;line-height:12px}div.algolia-universal-search .instructions-bar .label{padding:0 16px 0 4px}div.algolia-universal-search .instructions-bar svg{position:relative;top:1px}div.algolia-universal-search div#results-widget-container.no--search{display:none}</style></head>
  <body class="feature-filter-bar feature-upvotes tutorials-controller tutorial-single" data-env="production" data-prefix="/community" data-user-id="" data-facebook-app-id="694818843983011" data-completed-tutorial-id="" data-tutorial-id="2194" data-js="tutorial" data-upvote="null" data-flagged="">
    

    <div class="outside_viewport">
        <div id="contents-modal" class="modal fade mini-modal" style="display: none;">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1>Contents</h1>
          <button class="close-button icon icon-close-light" data-dismiss="modal" aria-label="close"></button>
        </div>
        <div class="modal-body">
          <div class="table-of-contents-modal tocify"><ul id="tocify-header0" class="tocify-header"><li class="tocify-item tocify-focus" data-unique="необходимые-условия"><a>Необходимые условия</a></li></ul><ul id="tocify-header1" class="tocify-header"><li class="tocify-item" data-unique="шаг-1-установка-openvpn"><a>Шаг 1. Установка OpenVPN</a></li></ul><ul id="tocify-header2" class="tocify-header"><li class="tocify-item" data-unique="шаг-2-создание-директории-центра-сертификации"><a>Шаг 2. Создание директории центра сертификации</a></li></ul><ul id="tocify-header3" class="tocify-header"><li class="tocify-item" data-unique="шаг-3-настройка-переменных-центра-сертификации"><a>Шаг 3. Настройка переменных центра сертификации</a></li></ul><ul id="tocify-header4" class="tocify-header"><li class="tocify-item" data-unique="шаг-4-создание-центра-сертификации"><a>Шаг 4. Создание центра сертификации</a></li></ul><ul id="tocify-header5" class="tocify-header"><li class="tocify-item" data-unique="шаг-5-создание-сертификата,-ключа-и-файлов-шифрования-для-сервера"><a>Шаг 5. Создание сертификата, ключа и файлов шифрования для сервера</a></li></ul><ul id="tocify-header6" class="tocify-header"><li class="tocify-item" data-unique="шаг-6-создание-сертификата-и-пары-ключей-для-клиента"><a>Шаг 6. Создание сертификата и пары ключей для клиента</a></li></ul><ul id="tocify-header7" class="tocify-header"><li class="tocify-item" data-unique="шаг-7-настройка-сервиса-openvpn"><a>Шаг 7. Настройка сервиса OpenVPN</a></li></ul><ul id="tocify-header8" class="tocify-header"><li class="tocify-item" data-unique="шаг-8-настройка-сетевой-конфигурации-сервера"><a>Шаг 8. Настройка сетевой конфигурации сервера</a></li></ul><ul id="tocify-header9" class="tocify-header"><li class="tocify-item" data-unique="шаг-9-включение-сервиса-openvpn"><a>Шаг 9. Включение сервиса OpenVPN</a></li></ul><ul id="tocify-header10" class="tocify-header"><li class="tocify-item" data-unique="шаг-10-создание-инфраструктуры-настройки-клиентов"><a>Шаг 10. Создание инфраструктуры настройки клиентов</a></li></ul><ul id="tocify-header11" class="tocify-header"><li class="tocify-item" data-unique="шаг-11-генерация-конфигураций-клиентов"><a>Шаг 11. Генерация конфигураций клиентов</a></li></ul><ul id="tocify-header12" class="tocify-header"><li class="tocify-item" data-unique="шаг-12-установка-файлов-конфигураций-клиентов"><a>Шаг 12. Установка файлов конфигураций клиентов</a></li></ul><ul id="tocify-header13" class="tocify-header"><li class="tocify-item" data-unique="шаг-13-тестирование-vpn-соединения"><a>Шаг 13. Тестирование VPN соединения</a></li></ul><ul id="tocify-header14" class="tocify-header"><li class="tocify-item" data-unique="шаг-14-отзыв-клиентских-сертификатов"><a>Шаг 14. Отзыв клиентских сертификатов</a></li></ul><ul id="tocify-header15" class="tocify-header"><li class="tocify-item" data-unique="заключение"><a>Заключение</a></li></ul></div>
        </div>
      </div>
    </div>
  </div>
  <div id="translation-modal" class="modal fade mini-modal" style="display: none;">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h1>Language</h1>
          <a class="close-button" data-dismiss="modal" aria-label="close" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru"><span class="icon icon-close-light"></span></a>
        </div>
        <div class="modal-body">

          <div class="content-translations">
            <div class="current-language">
              <ul class="languages large">
                <li class="current">
                  <span class="icon icon-check-light"></span>
                  Русский
                </li>


                    <li>
                      <a class="edit" title="English" href="https://www.digitalocean.com/community/tutorials/how-to-set-up-an-openvpn-server-on-ubuntu-16-04">
                        English
</a>                    </li>
                    <li>
                      <a class="edit" title="Español" href="https://www.digitalocean.com/community/tutorials/como-configurar-un-servidor-openvpn-en-ubuntu-16-04-es">
                        Español
</a>                    </li>
                    <li>
                      <a class="edit" title="Português" href="https://www.digitalocean.com/community/tutorials/como-configurar-um-servidor-openvpn-no-ubuntu-16-04-pt">
                        Português
</a>                    </li>
              </ul>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>
  <div id="share-modal" class="modal fade mini-modal" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1>Share</h1>
        <button type="button" class="close-button icon icon-close-light" aria-label="close" data-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="social-sharing social-sharing-container">
          <ul class="top ">
            <li class="shareBtn" id="sbTwitter">
              <a href="http://twitter.com/share?text=%D0%9A%D0%B0%D0%BA%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B8%D1%82%D1%8C%20%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%20OpenVPN%20%D0%B2%20Ubuntu%2016.04&amp;url=https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?utm_content=openvpn-ubuntu-16-04-ru&amp;utm_medium=community&amp;utm_source=twshare" class="share-icon share-popup" title="Share on Twitter" target="_blank">
                <span class="sIcon icon-bird"></span>
              </a>
              <a href="http://twitter.com/share?text=%D0%9A%D0%B0%D0%BA%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B8%D1%82%D1%8C%20%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%20OpenVPN%20%D0%B2%20Ubuntu%2016.04&amp;url=https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?utm_content=openvpn-ubuntu-16-04-ru&amp;utm_medium=community&amp;utm_source=twshare" class="share-link share-popup" title="Share on Twitter" target="_blank">
                Twitter
              </a>
            </li>
            <li class="shareBtn" id="sbFacebook">
              <a class="share-icon share-popup" href="https://www.facebook.com/sharer/sharer.php?u=https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?utm_content=openvpn-ubuntu-16-04-ru&amp;utm_medium=community&amp;utm_source=fbshare" title="Share on Facebook" target="_blank">
                <span class="sIcon icon-facebook-B"></span>
              </a>
              <a class="share-link share-popup" href="https://www.facebook.com/sharer/sharer.php?u=https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?utm_content=openvpn-ubuntu-16-04-ru&amp;utm_medium=community&amp;utm_source=fbshare" title="Share on Facebook" target="_blank">
                Facebook
              </a>
            </li>
            <li class="shareBtn" id="sbYC">
              <a href="https://news.ycombinator.com/submitlink?t=%D0%9A%D0%B0%D0%BA%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B8%D1%82%D1%8C%20%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%20OpenVPN%20%D0%B2%20Ubuntu%2016.04&amp;u=https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?utm_content=openvpn-ubuntu-16-04-ru&amp;utm_medium=community&amp;utm_source=hnshare" class="share-icon share-popup" target="_blank" title="Submit to Hacker News">
                <span class="sIcon icon-hacker-news"></span>
              </a>
              <a href="https://news.ycombinator.com/submitlink?t=%D0%9A%D0%B0%D0%BA%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B8%D1%82%D1%8C%20%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%20OpenVPN%20%D0%B2%20Ubuntu%2016.04&amp;u=https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?utm_content=openvpn-ubuntu-16-04-ru&amp;utm_medium=community&amp;utm_source=hnshare" class="share-link share-popup" target="_blank" title="Submit to Hacker News">
                Hacker News
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

  <div class="table-of-contents has-init" style="top: 210px;">
    <div data-js="tableOfContentsDesktop" class="tocify"><ul id="tocify-header0" class="tocify-header"><li class="tocify-item tocify-focus" data-unique="необходимые-условия"><a>Необходимые условия</a></li></ul><ul id="tocify-header1" class="tocify-header"><li class="tocify-item" data-unique="шаг-1-установка-openvpn"><a>Шаг 1. Установка OpenVPN</a></li></ul><ul id="tocify-header2" class="tocify-header"><li class="tocify-item" data-unique="шаг-2-создание-директории-центра-сертификации"><a>Шаг 2. Создание директории центра сертификации</a></li></ul><ul id="tocify-header3" class="tocify-header"><li class="tocify-item" data-unique="шаг-3-настройка-переменных-центра-сертификации" style="cursor: pointer;"><a>Шаг 3. Настройка переменных центра сертификации</a></li></ul><ul id="tocify-header4" class="tocify-header"><li class="tocify-item" data-unique="шаг-4-создание-центра-сертификации"><a>Шаг 4. Создание центра сертификации</a></li></ul><ul id="tocify-header5" class="tocify-header"><li class="tocify-item" data-unique="шаг-5-создание-сертификата,-ключа-и-файлов-шифрования-для-сервера"><a>Шаг 5. Создание сертификата, ключа и файлов шифрования для сервера</a></li></ul><ul id="tocify-header6" class="tocify-header"><li class="tocify-item" data-unique="шаг-6-создание-сертификата-и-пары-ключей-для-клиента"><a>Шаг 6. Создание сертификата и пары ключей для клиента</a></li></ul><ul id="tocify-header7" class="tocify-header"><li class="tocify-item" data-unique="шаг-7-настройка-сервиса-openvpn"><a>Шаг 7. Настройка сервиса OpenVPN</a></li></ul><ul id="tocify-header8" class="tocify-header"><li class="tocify-item" data-unique="шаг-8-настройка-сетевой-конфигурации-сервера"><a>Шаг 8. Настройка сетевой конфигурации сервера</a></li></ul><ul id="tocify-header9" class="tocify-header"><li class="tocify-item" data-unique="шаг-9-включение-сервиса-openvpn"><a>Шаг 9. Включение сервиса OpenVPN</a></li></ul><ul id="tocify-header10" class="tocify-header"><li class="tocify-item" data-unique="шаг-10-создание-инфраструктуры-настройки-клиентов"><a>Шаг 10. Создание инфраструктуры настройки клиентов</a></li></ul><ul id="tocify-header11" class="tocify-header"><li class="tocify-item" data-unique="шаг-11-генерация-конфигураций-клиентов"><a>Шаг 11. Генерация конфигураций клиентов</a></li></ul><ul id="tocify-header12" class="tocify-header"><li class="tocify-item" data-unique="шаг-12-установка-файлов-конфигураций-клиентов"><a>Шаг 12. Установка файлов конфигураций клиентов</a></li></ul><ul id="tocify-header13" class="tocify-header"><li class="tocify-item" data-unique="шаг-13-тестирование-vpn-соединения"><a>Шаг 13. Тестирование VPN соединения</a></li></ul><ul id="tocify-header14" class="tocify-header"><li class="tocify-item" data-unique="шаг-14-отзыв-клиентских-сертификатов"><a>Шаг 14. Отзыв клиентских сертификатов</a></li></ul><ul id="tocify-header15" class="tocify-header"><li class="tocify-item" data-unique="заключение"><a>Заключение</a></li></ul></div>
  </div>
  <!-- algolia universal search -->
<input type="hidden" id="q-universal-search" value="">



<div id="share-modal" class="modal fade mini-modal" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1>Share</h1>
        <button type="button" class="close-button icon icon-close-light" aria-label="close" data-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="social-sharing social-sharing-container">
          <ul class="bottom ">
            <li class="shareBtn" id="sbTwitter">
              <a href="http://twitter.com/share?text=%D0%9A%D0%B0%D0%BA%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B8%D1%82%D1%8C%20%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%20OpenVPN%20%D0%B2%20Ubuntu%2016.04&amp;url=https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?utm_content=openvpn-ubuntu-16-04-ru&amp;utm_medium=community&amp;utm_source=twshare" class="share-icon share-popup" title="Share on Twitter" target="_blank">
                <span class="sIcon icon-bird"></span>
              </a>
              <a href="http://twitter.com/share?text=%D0%9A%D0%B0%D0%BA%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B8%D1%82%D1%8C%20%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%20OpenVPN%20%D0%B2%20Ubuntu%2016.04&amp;url=https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?utm_content=openvpn-ubuntu-16-04-ru&amp;utm_medium=community&amp;utm_source=twshare" class="share-link share-popup" title="Share on Twitter" target="_blank">
                Twitter
              </a>
            </li>
            <li class="shareBtn" id="sbFacebook">
              <a class="share-icon share-popup" href="https://www.facebook.com/sharer/sharer.php?u=https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?utm_content=openvpn-ubuntu-16-04-ru&amp;utm_medium=community&amp;utm_source=fbshare" title="Share on Facebook" target="_blank">
                <span class="sIcon icon-facebook-B"></span>
              </a>
              <a class="share-link share-popup" href="https://www.facebook.com/sharer/sharer.php?u=https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?utm_content=openvpn-ubuntu-16-04-ru&amp;utm_medium=community&amp;utm_source=fbshare" title="Share on Facebook" target="_blank">
                Facebook
              </a>
            </li>
            <li class="shareBtn" id="sbYC">
              <a href="https://news.ycombinator.com/submitlink?t=%D0%9A%D0%B0%D0%BA%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B8%D1%82%D1%8C%20%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%20OpenVPN%20%D0%B2%20Ubuntu%2016.04&amp;u=https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?utm_content=openvpn-ubuntu-16-04-ru&amp;utm_medium=community&amp;utm_source=hnshare" class="share-icon share-popup" target="_blank" title="Submit to Hacker News">
                <span class="sIcon icon-hacker-news"></span>
              </a>
              <a href="https://news.ycombinator.com/submitlink?t=%D0%9A%D0%B0%D0%BA%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B8%D1%82%D1%8C%20%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%20OpenVPN%20%D0%B2%20Ubuntu%2016.04&amp;u=https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?utm_content=openvpn-ubuntu-16-04-ru&amp;utm_medium=community&amp;utm_source=hnshare" class="share-link share-popup" target="_blank" title="Submit to Hacker News">
                Hacker News
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

  <div id="newsletter-signup-dialog" class="newsletter-signups-dialog" data-newsletter-signup-dialog="" data-article-target=".content-body">
  <div class="form-message">
  <div class="pull-right">
    <a href="javascript:;" class="newsletter-signups-dialog-dismiss" data-newsletter-signup-dismiss="">×</a>

  </div>
  <h4 class="newsletter-signups-dialog-title">
    Sign up for our newsletter.
  </h4>
  <p class="newsletter-signups-dialog-description">
    Get the latest tutorials on SysAdmin and open source topics.
  </p>
  <form class="newsletter-signup" id="new_newsletter_signup" data-newsletter-signup="true" action="https://www.digitalocean.com/community/newsletter" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="✓">

  <input data-newsletter-signup-field="url" type="hidden" name="newsletter_signup[url]" id="newsletter_signup_url">
  <input data-newsletter-signup-field="title" type="hidden" name="newsletter_signup[title]" id="newsletter_signup_title">

  <div class="newsletter-signup-ajax-error" data-newsletter-signup-ajax-error=""></div>


  <div class="form-group">
    <input placeholder="Enter your email address" required="required" class="field" type="email" name="newsletter_signup[email]" id="newsletter_signup_email">
  </div>

  <button data-disable-with="Sign Up" class="button blue-button">
    Sign Up
  </button>
</form>
</div>

<div class="thanks-message hidden" data-newsletter-signup-successful=""> 
  <div class="pull-right"> 
    <a href="javascript:;" class="newsletter-signups-dialog-dismiss icon icon-close-light" data-newsletter-signup-dismiss=""></a> 
  </div> 

  <span class="newsletter-signups-dialog-success"> 
    Thanks for signing up! 
  </span> 
</div>

</div>



      
    </div>

      
      
<div style="display: none;">
  <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <symbol id="navbar-logo" xmlns="http://www.w3.org/2000/svg"> <title>DigitalOcean home</title> <g fill="currentColor" fill-rule="evenodd"> <path d="M14.4942 29v-5.5674c5.9572 0 10.5633-5.8478 8.2892-12.059-.8425-2.3006-2.693-4.1355-5.0126-4.9706-6.262-2.2534-12.1564 2.3135-12.1573 8.2207 0 0-.0006.0014-.0014.0014H0C0 5.2123 9.1687-2.1167 19.1138.9624c4.3459 1.3457 7.7993 4.7708 9.1561 9.081C31.3742 19.9068 23.985 29 14.4942 29"></path> <path d="M14.507 23.4468H8.9103v-5.549s.0005-.0011.0011-.0011h5.5949c.0006 0 .0009.0006.0009.0006v5.5495M8.9093 27.7118H4.6105l-.0012-.0012v-4.2638h4.3009v4.2638l-.0009.0012M4.6125 23.4468H1.0088c-.0015 0-.0026-.0012-.0026-.0012v-3.5724s.0011-.0025.0026-.0025h3.601c.0015 0 .0027.0011.0027.0011v3.575M43.2806 9.6357h1.649c1.8346 0 3.345.358 4.49 1.0647 1.2714.7603 1.9164 2.2069 1.9164 4.2991 0 2.1554-.6465 3.6671-1.9207 4.4942h-.0008c-1.0971.7196-2.5981 1.0846-4.462 1.0846h-1.6719V9.6357zm8.324-1.0736c-1.6598-1.142-3.7252-1.721-6.1387-1.721h-5.2537V23.373h5.2537c2.4074 0 4.4737-.6113 6.1407-1.8157.907-.6382 1.6197-1.5304 2.1185-2.651.4962-1.1144.7479-2.4288.7479-3.9067 0-1.4605-.2517-2.758-.7482-3.857-.4988-1.104-1.212-1.972-2.1202-2.5804zM58.1303 6.6376c-.5051 0-.9403.1777-1.2906.5254-.3546.335-.5346.7597-.5346 1.2618 0 .501.1791.9322.532 1.2825.3529.35.788.528 1.2932.528.5042 0 .9394-.178 1.2928-.528.3535-.3508.5324-.7821.5324-1.2825 0-.5015-.18-.926-.5324-1.2592-.3534-.3503-.7886-.528-1.2928-.528M56.6247 23.3729h2.9538V11.7294h-2.9538zM69.5321 19.5787c-.5162.5814-1.1793.8635-2.0264.8635-.8471 0-1.5064-.282-2.015-.863-.5065-.5777-.7637-1.3439-.7637-2.2773 0-.9479.2572-1.7238.764-2.3058.502-.576 1.1796-.8683 2.0147-.8683.8465 0 1.5096.284 2.0262.8695.5142.582.7751 1.3573.7751 2.3046 0 .9328-.2609 1.6988-.7749 2.2768zm.775-6.8767c-.8908-.7858-1.8858-1.2444-2.9614-1.2444-1.6305 0-2.9859.5598-4.0276 1.662-1.0555 1.0932-1.5907 2.5006-1.5907 4.1823 0 1.644.5269 3.0464 1.568 4.1709 1.0498 1.088 2.4123 1.6396 4.0503 1.6396 1.139 0 2.1182-.3144 2.9157-.9356v.268c0 .9662-.2608 1.7176-.7751 2.234-.5137.5154-1.226.7764-2.1173.7764-1.3637 0-2.2183-.5314-3.2589-1.9262l-2.0115 1.917.0542.0754c.4346.605 1.1 1.197 1.9785 1.7594.8787.5603 1.9832.8447 3.2832.8447 1.7536 0 3.1726-.5363 4.2172-1.5933 1.0506-1.0628 1.5835-2.486 1.5835-4.2286V11.7294H70.307v.9726zM75.7434 23.3729h2.9541V11.7294h-2.9541zM77.249 6.6376c-.5052 0-.94.1777-1.2906.5254-.3547.335-.5344.7597-.5344 1.2618 0 .501.1789.9322.532 1.2825.353.35.7878.528 1.293.528.5045 0 .9396-.178 1.2928-.528.3535-.3508.5323-.7821.5323-1.2825 0-.5015-.1797-.926-.5323-1.2592-.3532-.3503-.7883-.528-1.2929-.528M85.1724 8.5831h-2.9082v3.1463h-1.6888v2.6702h1.6888v4.8365c0 1.5134.3047 2.5964.9064 3.2181.6031.6247 1.6741.9414 3.1831.9414.48 0 .963-.0156 1.4354-.0463l.133-.0088v-2.6683l-1.013.0526c-.7033 0-1.1728-.1226-1.3961-.3637-.226-.245-.3406-.7636-.3406-1.5404v-4.421h2.7497v-2.6703h-2.7497V8.583M101.7735 23.3729h2.9544V6.8412h-2.9544zM134.5728 19.2094c-.5286.5874-1.0693 1.0966-1.4855 1.3613v.0005c-.4085.2599-.924.3918-1.532.3918-.8703 0-1.5703-.3144-2.1405-.9621-.567-.644-.8545-1.4716-.8545-2.4613s.2838-1.8162.8436-2.4556c.5625-.6434 1.2588-.9562 2.1285-.9562.9515 0 1.9548.5869 2.8145 1.5947l1.9525-1.8568c-1.273-1.6433-2.897-2.4081-4.8352-2.4081-1.622 0-3.028.5862-4.1788 1.7411-1.1446 1.147-1.7251 2.6074-1.7251 4.3409 0 1.7335.58 3.1977 1.7234 4.352 1.1447 1.1557 2.5514 1.7417 4.1805 1.7417 2.139 0 3.8651-.9158 5.029-2.5935l-1.9204-1.8304M140.2405 16.0973c.1422-.5567.401-1.0207.7714-1.381.4005-.3906.9214-.5885 1.5489-.5885.716 0 1.2702.2019 1.6474.6014.3495.3696.5467.8296.588 1.368h-4.5557zm6.4569-2.7414c-.4191-.5788-.9896-1.0448-1.6965-1.3854-.7047-.3404-1.526-.513-2.441-.513-1.6489 0-2.9982.6037-4.0113 1.7946-.9836 1.182-1.4818 2.651-1.4818 4.3665 0 1.7648.547 3.2253 1.6254 4.341 1.0727 1.1105 2.5083 1.6737 4.267 1.6737 1.992 0 3.627-.799 4.8587-2.3752l.0666-.0847-1.9273-1.837c-.1789.2139-.4317.4561-.6628.6722-.2918.273-.5659.4842-.8588.6289-.4415.218-.9369.3255-1.4907.3255-.8187 0-1.4964-.2388-2.0147-.71-.4847-.4403-.768-1.0345-.843-1.7683h7.8265l.0264-1.0693c0-.7569-.1038-1.4862-.3088-2.1677a6.312 6.312 0 0 0-.934-1.8918zM152.797 18.9234c.3352-.2318.8085-.3483 1.4073-.3483.7112 0 1.4654.1413 2.2426.421v1.1421c-.6421.592-1.4996.8922-2.5499.8922-.5114 0-.909-.1126-1.1822-.3355-.2683-.218-.3985-.4955-.3985-.847 0-.3994.1571-.7022.4808-.9245zm5.2452-6.3229h-.0003c-.8952-.758-2.1328-1.143-3.678-1.143-.9829 0-1.902.2144-2.7336.6324-.7691.387-1.5245 1.0275-2.0043 1.8662l.0298.0358 1.8917 1.796c.7791-1.2322 1.6454-1.66 2.7941-1.66.6172 0 1.1298.1643 1.5234.4881.3916.3216.5819.7304.5819 1.249v.5652c-.7324-.221-1.4629-.333-2.1738-.333-1.47 0-2.6663.3432-3.555 1.0193-.9.6852-1.3562 1.665-1.3562 2.9125 0 1.094.3847 1.9829 1.1461 2.6433.7677.6372 1.7275.961 2.8524.961 1.1246 0 2.177-.4495 3.132-1.2191v.9587h2.9089v-7.4852c0-1.4173-.4572-2.523-1.3591-3.2872zM170.7656 12.8285c-.8227-.9092-1.9791-1.371-3.4371-1.371-1.172 0-2.1236.3338-2.8357.9926v-.7207h-2.897v11.6435h2.954v-6.4215c0-.8823.2119-1.5828.6293-2.0826.4162-.4987.989-.741 1.75-.741.6691 0 1.1765.2167 1.5506.662.3759.4474.5662 1.0638.5662 1.8335v6.7496H172v-6.7496c0-1.6127-.415-2.889-1.2344-3.7948M92.8158 18.9234c.3351-.2318.8087-.3483 1.4075-.3483.7112 0 1.4652.1413 2.2426.421v1.1421c-.6421.592-1.4998.8922-2.5502.8922-.5114 0-.9087-.1126-1.1819-.3355-.2683-.218-.3988-.4955-.3988-.847 0-.3994.1574-.7022.4808-.9245zm5.2451-6.3229h-.0003c-.8952-.758-2.1328-1.143-3.6776-1.143-.983 0-1.902.2144-2.7337.6324-.7694.387-1.5247 1.0275-2.0043 1.8662l.0295.0358 1.8917 1.796c.7792-1.2322 1.6458-1.66 2.7941-1.66.6172 0 1.1298.1643 1.5234.4881.3916.3216.5822.7304.5822 1.249v.5652c-.7327-.221-1.4631-.333-2.174-.333-1.47 0-2.6664.3432-3.555 1.0193-.8999.6852-1.3562 1.665-1.3562 2.9125 0 1.094.3847 1.9829 1.1463 2.6433.7677.6372 1.7272.961 2.8524.961 1.1246 0 2.1766-.4495 3.1318-1.2191v.9587H99.42v-7.4852c0-1.4173-.457-2.523-1.359-3.2872zM115.4464 9.5808c-3.0682 0-5.5645 2.4755-5.5645 5.5188s2.4963 5.5188 5.5645 5.5188c3.0682 0 5.5645-2.4755 5.5645-5.5188s-2.4963-5.5188-5.5645-5.5188zm0 14.0408c-4.7383 0-8.5928-3.8228-8.5928-8.522 0-4.6994 3.8545-8.5223 8.5928-8.5223 4.738 0 8.5925 3.8229 8.5925 8.5223 0 4.6992-3.8545 8.522-8.5925 8.522z"></path> </g> </symbol>
    <symbol id="navbar-community_logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 532.2 99.8" fill="currentColor"> <path class="st0" d="M98.5,23c15.5,0,27.7,12.1,27.7,28.2c0,16.1-12.3,28.1-27.7,28.1c-15.6,0-27.7-11.9-27.7-28.1 C70.8,35.1,82.9,23,98.5,23z M98.5,67.9c8.7,0,14.9-7,14.9-16.8c0-9.8-6.2-16.8-14.9-16.8c-8.8,0-15,7-15,16.8 C83.5,60.9,89.7,67.9,98.5,67.9z"></path> <path class="st0" d="M166.8,45.9c0-7-3.5-11.6-9.9-11.6c-7.2,0-11.1,5.3-11.1,13.1V78h-12.5V24.3h12.3V29c2.4-2.8,7-6,13.9-6 c7.3,0,12.2,3.1,15,7c4.4-4.9,10-7,16.8-7c14.4,0,21.4,8.5,21.4,23.8V78h-12.5V45.9c0-7-3.5-11.6-9.9-11.6 c-7.2,0-11.2,5.3-11.2,13.1V78h-12.4V45.9z"></path> <path class="st0" d="M255.5,45.9c0-7-3.5-11.6-9.9-11.6c-7.2,0-11.1,5.3-11.1,13.1V78h-12.5V24.3h12.3V29c2.4-2.8,7-6,13.9-6 c7.3,0,12.2,3.1,15,7c4.4-4.9,10-7,16.8-7c14.4,0,21.4,8.5,21.4,23.8V78h-12.5V45.9c0-7-3.5-11.6-9.9-11.6 c-7.2,0-11.2,5.3-11.2,13.1V78h-12.4V45.9z"></path> <path class="st0" d="M322.5,56.4c0,7,3.6,11.6,10.1,11.6c7.2,0,11.2-5.6,11.2-13.5V24.3h12.5V78h-12.3v-4.4 c-3.4,3.7-8.1,5.6-13.9,5.6c-11.9,0-20.1-8.4-20.1-23.7V24.3h12.5V56.4z"></path> <path class="st0" d="M378.2,78h-12.5V24.3h12.3v4.4c2.7-3.1,7.7-5.7,13.9-5.7c13.1,0,21.3,8.5,21.3,23.8V78h-12.5V46.8 c0-7.5-3.7-12.5-10.6-12.5c-7.8,0-11.8,5.6-11.8,14V78z"></path> <path class="st0" d="M427.8,0.2c4.4,0,7.9,3.4,7.9,7.8s-3.5,7.9-7.9,7.9c-4.4,0-7.9-3.5-7.9-7.9S423.4,0.2,427.8,0.2z M421.4,24.3 h12.5V78h-12.5V24.3z"></path> <path class="st0" d="M446.7,59.1V35.5h-6.5V24.3h6.5v-15H459v15h12.2v11.2H459v21.7c0,7.8,1.8,9.8,8.8,9.8c1.2,0,4.1-0.2,4.1-0.2 v11.2c0,0-2.4,0.2-6.7,0.2C451.2,78.1,446.7,72.7,446.7,59.1z"></path> <path class="st0" d="M497.3,78.7l-21.3-54.4h14.2l14,38.8l14.2-38.8h13.6l-24.1,60.2c-3.7,9.4-7.2,15.3-21.3,15.3 c-2.5,0-4.8-0.1-4.8-0.1V88c0,0,1.5,0.1,2.8,0.1c7.6,0,9.8-2.3,11.8-7.8L497.3,78.7z"></path> <path class="st0" d="M62.4,55.9c-5.3,7-12.2,11.4-22.1,11.4c-15.6,0-27-11.7-27-27.5c0-16.1,11.4-27.8,26.5-27.8 c10,0,16.8,4.8,21.3,11.3l8.4-8.8C63.1,5.7,53.3,0,39.7,0C17.1,0,0,15.9,0,39.8c0,23.4,17.1,39.4,40.1,39.4c13.1,0,22-4.9,28.6-12.2 L62.4,55.9z"></path> </symbol>
    <symbol id="navbar-control_panel_icon" viewBox="0 0 45 45" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M19.6875 23.4862C19.6885 23.9722 19.4965 24.4388 19.1537 24.7833C18.8109 25.1279 18.3454 25.3222 17.8594 25.3237H3.23438C2.99366 25.3232 2.75539 25.2753 2.53321 25.1827C2.31102 25.09 2.10927 24.9545 1.93949 24.7839C1.7697 24.6132 1.63522 24.4108 1.54373 24.1881C1.45223 23.9655 1.40552 23.727 1.40626 23.4862V3.25498C1.40577 3.01417 1.45271 2.77562 1.54441 2.55295C1.63611 2.33028 1.77077 2.12785 1.9407 1.95722C2.11063 1.7866 2.31251 1.65111 2.5348 1.5585C2.75709 1.46589 2.99545 1.41797 3.23626 1.41748L17.8613 1.44186C18.347 1.44384 18.812 1.63843 19.1544 1.98292C19.4968 2.32741 19.6885 2.79366 19.6875 3.27936V23.4862Z" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M43.5863 12.27C43.5828 12.7516 43.3883 13.212 43.0456 13.5503C42.7028 13.8885 42.2397 14.0768 41.7582 14.0738H27.1332C26.8947 14.0755 26.6582 14.0302 26.4372 13.9405C26.2162 13.8507 26.015 13.7183 25.8453 13.5508C25.6755 13.3833 25.5404 13.1839 25.4477 12.9642C25.355 12.7444 25.3065 12.5085 25.3051 12.27V3.24565C25.308 2.76461 25.5019 2.30442 25.8439 1.96621C26.186 1.62799 26.6484 1.43941 27.1294 1.4419L41.7544 1.41753C42.2365 1.41403 42.7002 1.60205 43.0437 1.94027C43.3872 2.27849 43.5823 2.73924 43.5863 3.22128V12.27Z" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M19.6875 41.7956C19.686 42.0347 19.6375 42.2712 19.5446 42.4915C19.4518 42.7118 19.3164 42.9117 19.1463 43.0797C18.9762 43.2477 18.7747 43.3806 18.5532 43.4707C18.3318 43.5609 18.0947 43.6065 17.8556 43.605L3.23063 43.5806C2.74908 43.5826 2.28644 43.3934 1.94436 43.0545C1.60228 42.7155 1.40873 42.2547 1.40625 41.7731V32.7563C1.40748 32.5175 1.45575 32.2813 1.54831 32.0612C1.64087 31.8412 1.7759 31.6415 1.94569 31.4736C2.11547 31.3057 2.31667 31.173 2.53779 31.0829C2.75892 30.9929 2.99562 30.9473 3.23438 30.9488H17.8594C18.3414 30.9463 18.8047 31.1352 19.1475 31.4742C19.4903 31.8131 19.6845 32.2742 19.6875 32.7563V41.7956Z" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M27.1349 43.605C26.894 43.6045 26.6555 43.5565 26.433 43.4638C26.2106 43.3711 26.0087 43.2354 25.8387 43.0646C25.6688 42.8937 25.5341 42.6911 25.4426 42.4682C25.351 42.2453 25.3042 42.0066 25.3049 41.7656V21.5381C25.3042 21.2973 25.3509 21.0587 25.4424 20.8359C25.5338 20.6132 25.6683 20.4106 25.8381 20.2398C26.0078 20.069 26.2095 19.9333 26.4317 19.8405C26.6539 19.7476 26.8923 19.6995 27.1331 19.6987H41.7581C41.9989 19.6995 42.2372 19.7476 42.4594 19.8405C42.6816 19.9333 42.8833 20.069 43.0531 20.2398C43.2228 20.4106 43.3573 20.6132 43.4488 20.8359C43.5402 21.0587 43.5869 21.2973 43.5862 21.5381V41.7412C43.5872 42.2271 43.3955 42.6935 43.0532 43.0383C42.7109 43.3831 42.2458 43.5781 41.7599 43.5806L27.1349 43.605Z" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </symbol>
    <symbol id="navbar-community_icon" viewBox="0 0 45 45" fill="none" xmlns="http://www.w3.org/2000/svg"> <g clip-path="url(#clip0)"> <path d="M12.6562 10.5469C12.6562 9.85155 12.8624 9.17184 13.2487 8.5937C13.635 8.01556 14.1841 7.56495 14.8265 7.29886C15.4689 7.03277 16.1758 6.96315 16.8577 7.0988C17.5397 7.23445 18.1661 7.56929 18.6578 8.06095C19.1495 8.55262 19.4843 9.17905 19.6199 9.86101C19.7556 10.543 19.686 11.2499 19.4199 11.8922C19.1538 12.5346 18.7032 13.0837 18.1251 13.47C17.5469 13.8563 16.8672 14.0625 16.1719 14.0625" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M16.1719 18.2812C16.0328 18.2812 15.8969 18.3225 15.7812 18.3997C15.6656 18.477 15.5755 18.5868 15.5223 18.7153C15.4691 18.8438 15.4551 18.9852 15.4823 19.1215C15.5094 19.2579 15.5764 19.3832 15.6747 19.4816C15.773 19.5799 15.8983 19.6469 16.0347 19.674C16.1711 19.7011 16.3125 19.6872 16.4409 19.634C16.5694 19.5808 16.6792 19.4906 16.7565 19.375C16.8338 19.2594 16.875 19.1234 16.875 18.9844C16.875 18.7979 16.8009 18.6191 16.6691 18.4872C16.5372 18.3553 16.3584 18.2812 16.1719 18.2812Z" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M32.3438 4.21875V12.6562" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M29.5312 1.40625C30.2772 1.40625 30.9925 1.70257 31.52 2.23001C32.0474 2.75746 32.3438 3.47283 32.3438 4.21875" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M4.21875 1.40625H29.5312" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M1.40625 4.21875C1.40625 3.47283 1.70257 2.75746 2.23001 2.23001C2.75746 1.70257 3.47283 1.40625 4.21875 1.40625" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M1.40625 23.9062V4.21875" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M4.21875 26.7188C3.47283 26.7187 2.75746 26.4224 2.23001 25.895C1.70257 25.3675 1.40625 24.6522 1.40625 23.9062" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M9.84375 26.7188H4.21875" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M9.84375 35.1562V26.7188" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M15.4688 30.9375L9.84375 35.1562" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M43.5938 35.1562H37.9688V43.5938L29.5312 35.1562H21.0938V18.2812H43.5938V35.1562Z" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M32.3438 23.9062V29.5312" stroke="#0069FF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path> </g> <defs> <clippath id="clip0"> <rect width="45" height="45" fill="white"></rect> </clippath> </defs> </symbol>
    <symbol id="navbar-search" viewBox="0 0 16 16" fill="currentColor"><path fill-rule="evenodd" d="M15.7 13.3l-3.81-3.83A5.93 5.93 0 0 0 13 6c0-3.31-2.69-6-6-6S1 2.69 1 6s2.69 6 6 6c1.3 0 2.48-.41 3.47-1.11l3.83 3.81c.19.2.45.3.7.3.25 0 .52-.09.7-.3a.996.996 0 0 0 0-1.41v.01zM7 10.7c-2.59 0-4.7-2.11-4.7-4.7 0-2.59 2.11-4.7 4.7-4.7 2.59 0 4.7 2.11 4.7 4.7 0 2.59-2.11 4.7-4.7 4.7z"></path></symbol>
    <symbol id="navbar-logomark" viewBox="65.2 173.5 180 180" fill="currentColor"><path d="M155.2,351.7v-34.2c36.2,0,64.3-35.9,50.4-74c-5.1-14.1-16.4-25.4-30.5-30.5c-38.1-13.8-74,14.2-74,50.4l0,0H67c0-57.7,55.8-102.7,116.3-83.8c26.4,8.3,47.5,29.3,55.7,55.7C257.9,295.9,213,351.7,155.2,351.7z"></path> <polygon points="155.3,317.6 121.3,317.6 121.3,283.6 121.3,283.6 155.3,283.6 155.3,283.6"></polygon> <polygon points="121.3,343.8 95.1,343.8 95.1,343.8 95.1,317.6 121.3,317.6"></polygon> <path d="M95.1,317.6H73.2l0,0v-21.9l0,0h21.9l0,0V317.6z"></path></symbol>
    <symbol id="navbar-write4do" viewBox="0 0 30 30" fill="none" stroke="currentColor"> <path d="M16.3063 17.67L11.6663 18.3338L12.3288 13.6925L24.2613 1.76002C24.7887 1.23257 25.5041 0.936249 26.25 0.936249C26.6194 0.936249 26.9851 1.009 27.3263 1.15034C27.6675 1.29168 27.9776 1.49885 28.2388 1.76002C28.4999 2.02118 28.7071 2.33123 28.8484 2.67246C28.9898 3.01369 29.0625 3.37942 29.0625 3.74877C29.0625 4.11811 28.9898 4.48384 28.8484 4.82507C28.7071 5.1663 28.4999 5.47635 28.2388 5.73752L16.3063 17.67Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M22.935 3.08624L26.9125 7.06374" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M23.4375 17.8125V27.1875C23.4375 27.6848 23.24 28.1617 22.8883 28.5133C22.5367 28.865 22.0598 29.0625 21.5625 29.0625H2.8125C2.31522 29.0625 1.83831 28.865 1.48667 28.5133C1.13504 28.1617 0.9375 27.6848 0.9375 27.1875V8.4375C0.9375 7.94022 1.13504 7.46331 1.48667 7.11167C1.83831 6.76004 2.31522 6.5625 2.8125 6.5625H12.1875" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> </symbol>
    <symbol id="navbar-meetups" viewBox="0 0 30 30" fill="none" stroke="currentColor"> <path d="M27.1901 4.6875H2.81506C1.77953 4.6875 0.940063 5.52697 0.940063 6.5625V27.1875C0.940063 28.223 1.77953 29.0625 2.81506 29.0625H27.1901C28.2256 29.0625 29.0651 28.223 29.0651 27.1875V6.5625C29.0651 5.52697 28.2256 4.6875 27.1901 4.6875Z" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M0.940063 12.1875H29.0651" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M8.44006 7.5V0.9375" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M21.5651 7.5V0.9375" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path> </symbol>
    <symbol id="navbar-hacktoberfest" viewBox="0 0 30 30" fill="none" stroke="currentColor"> <path d="M19.2063 24.9918L16.5714 22.3569V14.4854L13.986 17.0708V23.5755L12.5615 25L11.1371 23.5591V8.44175L10.7419 8.04652L8.93042 9.8662L8 8.94401L11.9358 5.00823L11.944 5.01647L12.1005 5.16468L13.9778 7.04199V13.8431L16.5632 11.2577V8.42528L15.2705 7.12433L17.3948 5L19.4286 7.03376V20.9572L20.4249 21.9535L21.6352 20.7431L22.5492 21.6571L19.2063 24.9918Z" fill="currentcolor"></path> <rect x="0.75" y="0.75" width="28.5" height="28.5" rx="2.25" stroke-width="1.5" stroke="currentColor"></rect> </symbol>
    <symbol id="navbar-build" viewBox="0 0 16 16" fill="none" stroke="currentColor"> <path d="M1.5 14.5C1.23478 14.5 0.98043 14.3946 0.792893 14.2071C0.605357 14.0196 0.5 13.7652 0.5 13.5V2.57667C0.500879 2.29139 0.614596 2.01804 0.81632 1.81632C1.01804 1.6146 1.29139 1.50088 1.57667 1.5H14.4287C14.7125 1.50088 14.9845 1.61403 15.1852 1.81476C15.386 2.01548 15.4991 2.28747 15.5 2.57133V13.4233C15.4991 13.7086 15.3854 13.982 15.1837 14.1837C14.982 14.3854 14.7086 14.4991 14.4233 14.5H1.5Z" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M15.5 4.5H0.5" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M11 7.5L13 9.5L11 11.5" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M5 7.5L3 9.5L5 11.5" stroke-linecap="round" stroke-linejoin="round"></path> <path d="M9 7.5L7 11.5" stroke-linecap="round" stroke-linejoin="round"></path> </symbol>
  </svg>
</div>

<nav class="navbar" role="navigation" aria-label="Navigation" data-js="global-navbar">
  <ul role="menubar" class="utility">
    <li role="banner" data-flex="grow" data-show="always" data-js="global-navbar-banner"><a href="https://www.digitalocean.com/community/pages/covid-19" data-pill="new" title="Working on something related to COVID-19? DigitalOcean would like to help" target="_blank" rel="noopener">Working on something related to COVID-19? DigitalOcean would like to help ❯</a></li>
    <li role="menuitem">
      <a href="https://www.digitalocean.com/products/">Products</a>
    </li>
    <li role="menuitem">
      <a href="https://www.digitalocean.com/pricing/">Pricing</a>
    </li>
    <li role="menuitem" aria-haspopup="true" tabindex="0">
      <span class="expander">Docs</span>
      <div role="menuitem" class="mini" aria-expanded="false">
        <ul role="menu">
          <li role="menuitem">
            <a href="https://www.digitalocean.com/docs/">Product Docs</a>
          </li>
          <li role="menuitem">
            <a href="https://developers.digitalocean.com/documentation/">API Docs</a>
          </li>
        </ul>
      </div>
    </li>
      <li role="menuitem" aria-haspopup="true" tabindex="0">
      <span class="expander">Sign in</span>
        <div role="menuitem" class="mini" aria-expanded="false">
          <header>Sign in to</header>
          <ul role="menu">
            <li role="menuitem">
              <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                <use xlink:href="#navbar-community_icon"></use>
              </svg>
              <a id="log-in" href="https://www.digitalocean.com/community/auth/digitalocean">Community</a>
            </li>
            <li role="menuitem">
              <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                <use xlink:href="#navbar-control_panel_icon"></use>
              </svg>
              <a href="https://cloud.digitalocean.com/registrations/new">Control Panel</a>
            </li>
          </ul>
        </div>
      </li>
  </ul>

  <ul role="menubar" class="primary">
    <li role="menuitem" data-show="always" class="logo-square">
      <a href="https://www.digitalocean.com/">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" shape-rendering="auto">
          <use xlink:href="#navbar-logomark"></use>
        </svg>
      </a>
    </li>
    <li role="menuitem" data-show="always">
      <a title="DigitalOcean Community Home" class="home" href="https://www.digitalocean.com/community">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="120px" height="24px" shape-rendering="auto">
          <use xlink:href="#navbar-community_logo"></use>
        </svg>
</a>    </li>
    <li role="menuitem">
      <a data-activatable="true" href="https://www.digitalocean.com/community/tutorials" class="active">Tutorials</a>
    </li>
    <li role="menuitem">
      <a data-activatable="true" href="https://www.digitalocean.com/community/questions">Questions</a>
    </li>
    <li role="menuitem" aria-haspopup="true" class="mega_parent" tabindex="0">
      <span class="expander">Get Involved</span>
      <div role="menuitem" class="mega" aria-expanded="false">
        <div class="section column">
          <header>Participate</header>
          <ul role="menu">
            <li role="menuitem">
              <a class="with_image" href="https://www.digitalocean.com/community/pages/write-for-digitalocean">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <use xlink:href="#navbar-write4do"></use>
                </svg>
                <p>
                  <strong>Write for DigitalOcean</strong>
                  You get paid, we donate to tech non-profits.
                </p>
</a>            </li>
            <li role="menuitem">
              <a href="https://www.meetup.com/pro/digitalocean" class="with_image">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <use xlink:href="#navbar-meetups"></use>
                </svg>
                <p>
                  <strong>DigitalOcean Meetups</strong>
                  Find and meet other developers in your city.
                </p>
              </a>
            </li>
            <li role="menuitem">
              <a href="https://hacktoberfest.digitalocean.com/" class="with_image">
                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                  <use xlink:href="#navbar-hacktoberfest"></use>
                </svg>
                <p>
                  <strong>Hacktoberfest</strong>
                  Contribute to Open Source
                </p>
              </a>
            </li>
          </ul>
        </div>
        <div class="section column">
          <header>
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
              <use xlink:href="#navbar-build"></use>
            </svg>
            Build with DigitalOcean
          </header>
          <ul role="menu" class="indent">
            <li role="menuitem">
              <a title="Community-built tools and integrations that use the DigitalOcean API" href="https://www.digitalocean.com/community/tools">Community Tools and Integrations</a>
            </li>
            <li role="menuitem">
              <a href="https://www.digitalocean.com/hatch/" title="Build your startup on DigitalOcean.">
                Hatch Startup Program
              </a>
            </li>
            <li role="menuitem">
              <a href="https://marketplace.digitalocean.com/vendors/" title="List your open source One-Click Application in the DigitalOcean Marketplace">
                Marketplace Partner Program
              </a>
            </li>
            <li role="menuitem">
              <a href="https://www.digitalocean.com/partners/solutions-partners/" title="Easily deploy &amp; modernize your clients’ infrastructures with the Solutions Partner Program">
                Solutions Partner Program
              </a>
            </li>
            <li role="menuitem">
              <a href="https://www.digitalocean.com/droplets-for-demos/" title="DigitalOcean credits to fund research for conference and meetup presentations">
                Presentation Grants
              </a>
            </li>
            <li role="menuitem">
              <a href="https://github.com/digitalocean" title="View all the open-source projects that DigitalOcean have on GitHub">
                DigitalOcean on GitHub
              </a>
            </li>
          </ul>
        </div>
      </div>
    </li>
    <li role="menuitem" data-show="mobile" data-flex="grow" class="right">
      <a href="javascript:void(0);" data-js="modal_toggle" data-body-class="mobile_nav_expanded">
        <span class="icon-menu-thin"></span>
      </a>
    </li>
    <li role="menuitem" data-flex="grow">
      <button id="q" class="search_button">
          <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" shape-rendering="auto" width="14px" height="14px">
            <use xlink:href="#navbar-search"></use>
          </svg>
          Search DigitalOcean
          <kbd>/</kbd>
      </button>
    </li>
    <li role="menuitem">
      <a class="button blue-button small-button" href="https://www.digitalocean.com/community/auth/digitalocean?display=sessionless+register">Sign Up</a>
    </li>
  </ul>

  <div class="mobile_nav_bg" data-js="modal_toggle"></div>
  <div class="mobile_nav">
    <a data-dismiss="modal" aria-label="close" href="javascript:void(0);" data-js="modal_toggle"><span class="icon-close"></span></a>
    <div class="mobile_nav_content">
      <header>Community</header>
      <ul role="menu">
        <li role="menuitem">
          <a data-activatable="true" href="https://www.digitalocean.com/community/tutorials" class="active">Tutorials</a>
        </li>
        <li role="menuitem">
          <a data-activatable="true" href="https://www.digitalocean.com/community/questions">Questions</a>
        </li>
        <li role="menuitem">
          <a href="https://www.meetup.com/pro/digitalocean">Meetups</a>
        </li>
        <li role="menuitem">
          <a href="https://www.digitalocean.com/community/pages/write-for-digitalocean">Write for us</a>
        </li>
        <li role="menuitem">
          <a href="https://hacktoberfest.digitalocean.com/">Hacktoberfest</a>
        </li>
        <li role="menuitem">
          <a href="https://www.digitalocean.com/community/tools">Tools</a>
        </li>
      </ul>
      <header>Products</header>
      <ul role="menu">
        <li role="menuitem">
          <a href="https://www.digitalocean.com/">Homepage</a>
        </li>
        <li role="menuitem">
          <a href="https://www.digitalocean.com/pricing">Pricing</a>
        </li>
        <li role="menuitem">
          <a href="https://www.digitalocean.com/products">Product Overview</a>
        </li>
        <li role="menuitem">
          <a href="https://marketplace.digitalocean.com/">Marketplace</a>
        </li>
      </ul>
      <header>Customers</header>
      <ul role="menu">
        <li role="menuitem">
          <a href="https://cloud.digitalocean.com/login">Control panel</a>
        </li>
        <li role="menuitem">
          <a href="https://www.digitalocean.com/docs/">Documentation</a>
        </li>
        <li role="menuitem">
          <a href="https://www.digitalocean.com/company/contact/#support">Contact Support</a>
        </li>
        <li role="menuitem">
          <a href="https://www.digitalocean.com/company/contact/sales/">Contact Sales</a>
        </li>
      </ul>

      <ul role="menu">
        <li role="menuitem" class="mobile-log-in">
            <a id="log-in" href="https://www.digitalocean.com/community/auth/digitalocean">Sign In</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<header>
  <div class="legacy-header ">
    <div class="flash-container">
      
    </div>

    <div class="wrapper">
      
    </div>
  </div>
</header>



      

      <div class="wrapper layout-wrapper">

        











<div class="section-content section-content-growable content Tutorial-content">
  <div class="postable-info-bar-container">
  <div class="postable-info-bar ">
    <div class="author-byline">
      
    </div>

    <div class="right-section">
      

        <div class="section-item section-item-translations">
          <div class="content-translations">
  <div class="current-language">
    <a href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#" class="language-button" title="Russian" data-toggle="modal" data-target="#translation-modal">
      Language: RU
      <span class="icon icon-arrow-up"></span>
      <span class="icon icon-arrow-down"></span>
    </a>
  </div>
</div>



        </div>

        <div class="section-item table-of-contents-triggers"><div class="toc-trigger-mobile" data-toggle="modal" data-target="#contents-modal">
  <a href="javascript:void(0);">
    <span class="icon icon-contents"></span>
    <span class="title">Contents</span>
    <span class="icon icon-arrow-down"></span>
  </a>
</div>

</div>

    </div>
  </div>
</div>




  <div class="container tutorial-header">
    

      <div class="featured-items-right-bar">
        <h3>Related</h3>
          <a href="https://marketplace.digitalocean.com/apps/openvpn-access-server?utm_source=community">
            <div class="featured-item-highlight">
                  <span class="featured-item-highlight-image"><img width="45" height="45" alt="Marketplace" src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/digitalocean_f97bb865-d32b-4682-9d8b-dbfba095e786_digitalocean-product-icon-volumes-block-storage.svg"></span>
                1-Click Deploy: OpenVPN Access Server
                <span class="featured-item-category">
                  
                  Marketplace
                </span>
              </div>
</a>          <a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-password-authentication-with-apache-on-ubuntu-18-04-ru">
            <div class="featured-item-regular">
                  Настройка аутентификации по паролю для Apache в Ubuntu 18.04
                  <span class="featured-item-category">
                    <img width="14" height="14" alt="Tutorial" src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/featured-item-tutorial-icon-2150ccbef202144a53cea261312af267.png">
                    Tutorial
                  </span>
                </div>
</a>          <a href="https://www.digitalocean.com/community/tutorials/how-to-set-up-password-authentication-with-apache-on-ubuntu-18-04-quickstart-ru">
            <div class="featured-item-regular">
                  Настройка аутентификации по паролю для Apache в Ubuntu 18.04 [Краткое руководство]
                  <span class="featured-item-category">
                    <img width="14" height="14" alt="Tutorial" src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/featured-item-tutorial-icon-2150ccbef202144a53cea261312af267.png">
                    Tutorial
                  </span>
                </div>
</a>      </div>


    

    <h1 class="content-title Tutorial-header">Как настроить сервер OpenVPN в Ubuntu 16.04</h1>
    <span class="meta-section date-views">
  <span class="meta-section timestamp"><span class="tutorial-date-text">Posted</span><span class="tutorial-date">December 20, 2016</span></span>
  <span class="meta-section pageviews"><span class="icon icon-eye v-mid"></span><span class="views-count v-mid">406.1k</span><span class="sr-only"> views</span></span>
</span>

    <span class="meta-section tags">
  <a class="tag" href="https://www.digitalocean.com/community/tags/ubuntu">Ubuntu</a><a class="tag" href="https://www.digitalocean.com/community/tags/vpn">VPN</a><a class="tag" href="https://www.digitalocean.com/community/tags/ubuntu-16-04">Ubuntu 16.04</a>
</span>

  </div>

  <div class="tutorial-authors">
  <div class="component-collaborators-container">
  <ul class="component-collaborators-content">
        <li class="collaborator-byline-avatar">
          <a href="https://www.digitalocean.com/community/users/jellingwood">
            <img alt="jellingwood" class="avatar avatar-large" src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/60d901f61a6146e14a3e989bc1f4ef11" width="80" height="80">
</a>        </li>

    <li class="collaborators-byline-data">
        <p class="names">By <a href="https://www.digitalocean.com/community/users/jellingwood">Justin Ellingwood</a></p>

      <p>
          <a class="advice" href="https://www.digitalocean.com/community/write-for-digitalocean">Become an author</a>
      </p>
    </li>
  </ul>
</div>

</div>






  <div class="content-body tutorial-content" data-growable-markdown="">
    
    <h3 id="Введение">Введение</h3>

<p>Хотите иметь безопасный и защищённый доступ в Интернет с вашего смартфона или ноутбука при подключении к незащищённой сети через WiFi отеля или кафе? <a href="https://en.wikipedia.org/wiki/Virtual_private_network">Виртуальная частная сеть</a> (Virtual Private Network, VPN) позволяет использовать незащищённые сети таким образом, как если бы вы работали в частной сети. Весь ваш трафик в этом случае проходит через VPN-сервер.</p>

<p>В комбинации с использованием <a href="https://en.wikipedia.org/wiki/HTTP_Secure">HTTPS-соединения</a> описываемые далее настройки позволят вам обезопасить свою приватную информацию, например, логины и пароли, а также ваши покупки. Более того, вы сможете обходить региональные ограничения и цензуру, а также скрывать своё местонахождение и незашифрованный HTTP-трафик от незащищённой сети.</p>

<p><a href="https://openvpn.net/">OpenVPN</a> представляет собой мощное и гибко настраиваемое программное обеспечение с открытым исходным кодом для работы с Secure Socket Layer (SSL) VPN. В этой статье мы установим и настроим OpenVPN сервер, а также научимся осуществлять к нему доступ из Windows, Mac OS, iOS и Android. Для этого мы выполним несколько простых шагов.</p>

<a name="необходимые-условия" data-unique="необходимые-условия"></a><a name="необходимые-условия" data-unique="необходимые-условия"></a><h2 id="Необходимые-условия">Необходимые условия</h2>

<p>Прежде всего вам необходимо иметь сервер с Ubuntu 16.04.</p>

<p>Перед тем, как начать следовать шагам, описанным в этой статье, вам необходимо настроить отдельный, не-рутовый (non-root) профиль пользователя с привилегиями <code>sudo</code> на вашем сервере. Вы можете сделать это следуя инструкциям, описанным в <a href="https://www.digitalocean.com/community/tutorials/initial-server-setup-with-ubuntu-16-04">статье о первичной настройке сервера на Ubuntu 16.04</a>. В этой же статье описан процесс настройки файрвола; далее мы будем считать, что файрвол настроен на вашем сервере.</p>

<p>Когда вы будете готовы начать, зайдите на ваш сервер под созданным вами <code>sudo</code>-пользователем и следуйте шагам, описанным ниже.</p>

<a name="шаг-1-установка-openvpn" data-unique="шаг-1-установка-openvpn"></a><a name="шаг-1-установка-openvpn" data-unique="шаг-1-установка-openvpn"></a><h2 id="Шаг-1-Установка-openvpn">Шаг 1. Установка OpenVPN</h2>

<p>Сначала установим OpenVPN на наш сервер. OpenVPN доступен в стандартных репозиториях Ubuntu, мы можем использовать <code>apt</code> для его установки. Также мы установим пакет <code>easy-rsa</code>, который позволит нам настроить наш собственный внутренний центр сертификации (certificate authority, CA) для использования с нашей VPN.</p>

<p>Обновим список пакетов сервера и установим необходимые пакеты следующими командами:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">sudo apt-get update
</li><li class="line" prefix="$">sudo apt-get install openvpn easy-rsa
</li></ul></code></pre>
<p>Необходимое программное обеспечение установлено и готово к настройке.</p>

<a name="шаг-2-создание-директории-центра-сертификации" data-unique="шаг-2-создание-директории-центра-сертификации"></a><a name="шаг-2-создание-директории-центра-сертификации" data-unique="шаг-2-создание-директории-центра-сертификации"></a><h2 id="Шаг-2-Создание-директории-центра-сертификации">Шаг 2. Создание директории центра сертификации</h2>

<p>OpenVPN это виртуальная частная сеть, использующая TLS/SSL. Это означает, что OpenVPN использует сертификаты для шифрования трафика между сервером и клиентами. Для выпуска доверенных сертификатов (trusted certificates) нам потребуется создать наш собственный центр сертификации.</p>

<p>Для начала скопируем шаблонную директорию <code>easy-rsa</code> в нашу домашнюю директорию с помощью команды <code>make-cadir</code>:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">make-cadir ~/openvpn-ca
</li></ul></code></pre>
<p>Далее зайдём в эту директорию для начала настройки центра сертификации:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">cd ~/openvpn-ca
</li></ul></code></pre>
<a name="шаг-3-настройка-переменных-центра-сертификации" data-unique="шаг-3-настройка-переменных-центра-сертификации"></a><a name="шаг-3-настройка-переменных-центра-сертификации" data-unique="шаг-3-настройка-переменных-центра-сертификации"></a><h2 id="Шаг-3-Настройка-переменных-центра-сертификации">Шаг 3. Настройка переменных центра сертификации</h2>

<p>Для настройки переменных нашего центра сертификации нам необходимо отредактировать файл <code>vars</code>. Откройте этот файл в вашем текстовом редакторе:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">nano vars
</li></ul></code></pre>
<p>Внутри файла вы найдёте переменные, которые можно отредактировать, и которые задают параметры сертификатов при их создании. Нам нужно изменить всего несколько переменных.</p>

<p>Перейдите ближе к концу файла и найдите настройки полей, используемые по умолчанию при создании сертификатов. Они должны выглядеть примерно так:</p>
<div class="code-label " title="~/openvpn-ca/vars">~/openvpn-ca/vars</div><pre class="code-pre "><code>. . .

export KEY_COUNTRY="US"
export KEY_PROVINCE="CA"
export KEY_CITY="SanFrancisco"
export KEY_ORG="Fort-Funston"
export KEY_EMAIL="me@myhost.mydomain"
export KEY_OU="MyOrganizationalUnit"

. . .
</code></pre>
<p>Замените значения, выделенные красным, на что-нибудь другое, не оставляйте их не заполненными:</p>
<div class="code-label " title="~/openvpn-ca/vars">~/openvpn-ca/vars</div><pre class="code-pre "><code>. . .

export KEY_COUNTRY="<span class="highlight">US</span>"
export KEY_PROVINCE="<span class="highlight">NY</span>"
export KEY_CITY="<span class="highlight">New York City</span>"
export KEY_ORG="<span class="highlight">DigitalOcean</span>"
export KEY_EMAIL="<span class="highlight">admin@example.com</span>"
export KEY_OU="<span class="highlight">Community</span>"

. . .
</code></pre>
<p>Пока мы в этом файле, отредактируем значение <code>KEY_NAME</code> чуть ниже, которое заполняет поле субъекта сертификатов. Для простоты зададим ему название <code>server</code>:</p>
<div class="code-label " title="~/openvpn-ca/vars">~/openvpn-ca/vars</div><pre class="code-pre "><code>export KEY_NAME="<span class="highlight">server</span>"
</code></pre>
<p>Сохраните и закройте файл.</p>

<a name="шаг-4-создание-центра-сертификации" data-unique="шаг-4-создание-центра-сертификации"></a><a name="шаг-4-создание-центра-сертификации" data-unique="шаг-4-создание-центра-сертификации"></a><h2 id="Шаг-4-Создание-центра-сертификации">Шаг 4. Создание центра сертификации</h2>

<p>Теперь мы можем использовать заданные нами переменные и утилиты <code>easy-rsa</code> для создания центра сертификации.</p>

<p>Убедитесь, что вы находитесь в директории центра сертификации и используйте команду <code>source</code> к файлу <code>vars</code>:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">cd ~/openvpn-ca
</li><li class="line" prefix="$">source vars
</li></ul></code></pre>
<p>Вы должны увидеть следующий вывод:</p>
<pre class="code-pre "><code><div class="secondary-code-label " title="Вывод">Вывод</div>NOTE: If you run ./clean-all, I will be doing a rm -rf on /home/sammy/openvpn-ca/keys
</code></pre>
<p>Убедимся, что мы работаем в “чистой среде” выполнив следующую команду:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">./clean-all
</li></ul></code></pre>
<p>Теперь мы можем создать наш корневой центр сертификации командой:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">./build-ca
</li></ul></code></pre>
<p>Эта команда запустит процесс создания ключа и сертификата корневого центра сертификации. Поскольку мы задали все переменные в файле <code>vars</code>, все необходимые значения будут введены автоматически. Нажимайте <strong>ENTER</strong> для подтверждения выбора:</p>
<pre class="code-pre "><code><div class="secondary-code-label " title="Вывод">Вывод</div>Generating a 2048 bit RSA private key
..........................................................................................+++
...............................+++
writing new private key to 'ca.key'
-----
You are about to be asked to enter information that will be incorporated
into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter '.', the field will be left blank.
-----
Country Name (2 letter code) [US]:
State or Province Name (full name) [NY]:
Locality Name (eg, city) [New York City]:
Organization Name (eg, company) [DigitalOcean]:
Organizational Unit Name (eg, section) [Community]:
Common Name (eg, your name or your server's hostname) [DigitalOcean CA]:
Name [server]:
Email Address [admin@email.com]:
</code></pre>
<p>Теперь у нас есть центр сертификации, который мы сможем использовать для создания всех остальных необходимых нам файлов.</p>

<a name="шаг-5-создание-сертификата,-ключа-и-файлов-шифрования-для-сервера" data-unique="шаг-5-создание-сертификата,-ключа-и-файлов-шифрования-для-сервера"></a><a name="шаг-5-создание-сертификата,-ключа-и-файлов-шифрования-для-сервера" data-unique="шаг-5-создание-сертификата,-ключа-и-файлов-шифрования-для-сервера"></a><h2 id="Шаг-5-Создание-сертификата-ключа-и-файлов-шифрования-для-сервера">Шаг 5. Создание сертификата, ключа и файлов шифрования для сервера</h2>

<p>Далее создадим сертификат, пару ключей и некоторые дополнительные файлы, используемые для осуществления шифрования, для нашего сервера.</p>

<p>Начнём с создания сертификата OpenVPN и ключей для сервера. Это можно сделать следующей командой:</p>

<p><span class="note">Внимание: Если ранее вы выбрали имя, отличное от <code>server</code>, вам придётся немного изменить некоторые инструкции. Например, при копировании созданных файлов в директорию <code>/etc/openvpn</code> вам придётся заменить имена на заданные вами. Вам также придётся изменить файл <code>/etc/openvpn/server.conf</code> для того, чтобы он указывал на корректные <code>.crt</code> и <code>.key</code> файлы.<br></span></p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">./build-key-server server
</li></ul></code></pre>
<p>Вывод опять будет содержать значения по умолчанию, переданные этой команде (<code>server</code>), а также значения из файла <code>vars</code>.</p>

<p>Согласитесь со всеми значениями по умолчанию, нажимая <strong>ENTER</strong>. <em>Не задавайте</em> challenge password. В конце процесса два раза введите <strong>y</strong> для подписи и подтверждения создания сертификата:</p>
<pre class="code-pre "><code><div class="secondary-code-label " title="Вывод">Вывод</div>. . .

Certificate is to be certified until May  1 17:51:16 2026 GMT (3650 days)
Sign the certificate? [y/n]:<span class="highlight">y</span>


1 out of 1 certificate requests certified, commit? [y/n]<span class="highlight">y</span>
Write out database with 1 new entries
Data Base Updated
</code></pre>
<p>Далее создадим оставшиеся файлы. Мы можем сгенерировать сильные ключи протокола Диффи-Хеллмана, используемые при обмене ключами, командой:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">./build-dh
</li></ul></code></pre>
<p>Для завершения этой команды может потребоваться несколько минут.</p>

<p>Далее мы можем сгенерировать подпись HMAC для усиления способности сервера проверять целостность TSL:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">openvpn --genkey --secret keys/ta.key
</li></ul></code></pre>
<a name="шаг-6-создание-сертификата-и-пары-ключей-для-клиента" data-unique="шаг-6-создание-сертификата-и-пары-ключей-для-клиента"></a><a name="шаг-6-создание-сертификата-и-пары-ключей-для-клиента" data-unique="шаг-6-создание-сертификата-и-пары-ключей-для-клиента"></a><h2 id="Шаг-6-Создание-сертификата-и-пары-ключей-для-клиента">Шаг 6. Создание сертификата и пары ключей для клиента</h2>

<p>Далее мы можем сгенерировать сертификат и пару ключей для клиента. Вообще это можно сделать и на клиентской машине и затем подписать полученный ключ центром сертификации сервера, но в этой статье для простоты мы сгенерируем подписанный ключ на сервере.</p>

<p>В этой статье мы создадим ключ и сертификат только для одного клиента. Если у вас несколько клиентов, вы можете повторять этот процесс сколько угодно раз. Просто каждый раз передавайте уникальное значение скрипту.</p>

<p>Поскольку мы можем вернуться к этому шагу позже, мы повторим команду <code>source</code> для файла <code>vars</code>. Мы будем использовать параметр <code>client1</code> для создания первого сертификата и ключа.</p>

<p>Для создания файлов без пароля для облегчения автоматических соединений используйте команду <code>build-key</code>:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">cd ~/openvpn-ca
</li><li class="line" prefix="$">source vars
</li><li class="line" prefix="$">./build-key <span class="highlight">client1</span>
</li></ul></code></pre>
<p>Для создания файлов, защищённых паролем, используйте команду <code>build-key-pass</code>:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">cd ~/openvpn-ca
</li><li class="line" prefix="$">source vars
</li><li class="line" prefix="$">./build-key-pass <span class="highlight">client1</span>
</li></ul></code></pre>
<p>В ходе процесса создания файлов все значения по умолчанию будут введены, вы можете нажимать <strong>ENTER</strong>. Не задавайте challenge password и введите <strong>y</strong> на запросы о подписи и подтверждении создания сертификата.</p>

<a name="шаг-7-настройка-сервиса-openvpn" data-unique="шаг-7-настройка-сервиса-openvpn"></a><a name="шаг-7-настройка-сервиса-openvpn" data-unique="шаг-7-настройка-сервиса-openvpn"></a><h2 id="Шаг-7-Настройка-сервиса-openvpn">Шаг 7. Настройка сервиса OpenVPN</h2>

<p>Далее настроим сервис OpenVPN с использованием созданных ранее файлов.</p>

<h3 id="Копирование-файлов-в-директорию-openvpn">Копирование файлов в директорию OpenVPN</h3>

<p>Нам необходимо скопировать нужные нам файлы в директорию <code>/etc/openvpn</code>.</p>

<p>Сначала скопируем созданные нами файлы. Они находятся в директории <code>~/openvpn-ca/keys</code>, в которой они и были созданы. Нам необходимо скопировать сертификат и ключ центра сертификации, сертификат и ключ сервера, подпись HMAC и файл Diffie-Hellman: </p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">cd ~/openvpn-ca/keys
</li><li class="line" prefix="$">sudo cp ca.crt ca.key server.crt server.key ta.key dh2048.pem /etc/openvpn
</li></ul></code></pre>
<p>Далее нам необходимо скопировать и распаковать файл-пример конфигурации OpenVPN в конфигурационную директорию, мы будем использовать этот файл в качестве базы для наших настроек:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">gunzip -c /usr/share/doc/openvpn/examples/sample-config-files/server.conf.gz | sudo tee /etc/openvpn/server.conf
</li></ul></code></pre>
<h3 id="Настройка-конфигурации-openvpn">Настройка конфигурации OpenVPN</h3>

<p>Теперь, когда наши файлы находятся на своём месте, займёмся настройкой конфигурационного файла сервера:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">sudo nano /etc/openvpn/server.conf
</li></ul></code></pre>
<h4 id="Базовая-настройка">Базовая настройка</h4>

<p>Сначала найдём секцию HMAC поиском директивы <code>tls-auth</code>. Удалите “;” для того, чтобы раскомментировать строку с <code>tls-auth</code>. Далее добавьте параметр <code>key-direction</code> и установите его значение в “0”:</p>
<div class="code-label " title="/etc/openvpn/server.conf">/etc/openvpn/server.conf</div><pre class="code-pre "><code>tls-auth ta.key 0 # This file is secret
<span class="highlight">key-direction 0</span>
</code></pre>
<p>Далее найдём секцию шифрования, нас интересуют закомментированные строки <code>cipher</code>. Шифр <code>AES-128-CBC</code> обеспечивает хороший уровень шифрования и широко поддерживается другими программными продуктами. Удалите “;” для раскомментирования строки <code>AES-128-CBC</code>:</p>
<div class="code-label " title="/etc/openvpn/server.conf">/etc/openvpn/server.conf</div><pre class="code-pre "><code>cipher AES-128-CBC
</code></pre>
<p>Под этой строкой добавьте строку <code>auth</code> и выберите алгоритм HMAC. Хорошим выбором будет <code>SHA256</code>:</p>
<div class="code-label " title="/etc/openvpn/server.conf">/etc/openvpn/server.conf</div><pre class="code-pre "><code>auth SHA256
</code></pre>
<p>Наконец, найдите настройки <code>user</code> и <code>group</code> и удалите “;” для раскомментирования этих строк:</p>
<div class="code-label " title="/etc/openvpn/server.conf">/etc/openvpn/server.conf</div><pre class="code-pre "><code>user nobody
group nogroup
</code></pre>
<h4 id="Опционально-Проталкивание-изменений-dns-для-перенаправления-всего-трафика-через-vpn">(Опционально) Проталкивание изменений DNS для перенаправления всего трафика через VPN</h4>

<p>Сделанные нами настройки создают VPN соединение между двумя машинами, но они не заставляют эти машины использовать VPN соединение. Если вы хотите использовать VPN соединение для всего своего трафика, вам необходимо протолкнуть (push) настройки DNS на клиентские машины.</p>

<p>Для этого вам необходимо раскомментировать несколько директив. Найдите секцию <code>redirect-gateway</code> и удалите “;” из начала строки для расскоментирования <code>redirect-gateway</code>:</p>
<div class="code-label " title="/etc/openvpn/server.conf">/etc/openvpn/server.conf</div><pre class="code-pre "><code>push "redirect-gateway def1 bypass-dhcp"
</code></pre>
<p>Чуть ниже находится секция <code>dhcp-option</code>. Удалите “;” для обеих строк:</p>
<div class="code-label " title="/etc/openvpn/server.conf">/etc/openvpn/server.conf</div><pre class="code-pre "><code>push "dhcp-option DNS 208.67.222.222"
push "dhcp-option DNS 208.67.220.220"
</code></pre>
<p>Это позволит клиентам сконфигурировать свои настройки DNS для использования VPN соединения в качестве основного.</p>

<h4 id="Опционально-Настройка-порта-и-протокола">(Опционально) Настройка порта и протокола</h4>

<p>По умолчанию OpenVPN использует порт 1194 и протокол UDP для соединения с клиентами. Если вам необходимо изменить порт из-за каких-либо ограничений для ваших клиентов, вы можете сделать это изменив настройку <code>port</code>. Если вы не хостите веб-контент на вашем OpenVPN сервере, вы можете использовать порт 443, поскольку этот порт обычно разрешён для использования в большинстве файрволов.</p>
<div class="code-label " title="/etc/openvpn/server.conf">/etc/openvpn/server.conf</div><pre class="code-pre "><code># Optional!
port <span class="highlight">443</span>
</code></pre>
<p>Используемый протокол может иметь ограничения по номеру порта. В этом случае измените <code>proto</code> с UDP на TCP:</p>
<div class="code-label " title="/etc/openvpn/server.conf">/etc/openvpn/server.conf</div><pre class="code-pre "><code># Optional!
proto <span class="highlight">tcp</span>
</code></pre>
<p>Если у вас нет явной необходимости использовать другой порт, лучше оставить обе эти настройки со значениями по умолчанию.</p>

<h4 id="Опционально-Использование-кастомного-имени-сертификата-и-ключа">(Опционально) Использование кастомного имени сертификата и ключа</h4>

<p>Если во время использования команды <code>./build-key-server</code> чуть выше вы указали параметр, отличный от <code>server</code>, измените настройки <code>cert</code> и <code>key</code>, чтобы они указывали на правильные файлы <code>.crt</code> и <code>.key</code>. Если вы использовали <code>server</code>, эти настройки должны выглядеть таким образом:</p>
<div class="code-label " title="/etc/openvpn/server.conf">/etc/openvpn/server.conf</div><pre class="code-pre "><code>cert <span class="highlight">server</span>.crt
key <span class="highlight">server</span>.key
</code></pre>
<p>Сохраните и закройте файл.</p>

<a name="шаг-8-настройка-сетевой-конфигурации-сервера" data-unique="шаг-8-настройка-сетевой-конфигурации-сервера"></a><a name="шаг-8-настройка-сетевой-конфигурации-сервера" data-unique="шаг-8-настройка-сетевой-конфигурации-сервера"></a><h2 id="Шаг-8-Настройка-сетевой-конфигурации-сервера">Шаг 8. Настройка сетевой конфигурации сервера</h2>

<p>Далее нам необходимо настроить сетевую конфигурацию сервера, чтобы OpenVPN мог корректно перенаправлять трафик.</p>

<h3 id="Настройка-перенаправления-ip">Настройка перенаправления IP</h3>

<p>Сначала разрешим серверу перенаправлять трафик. Это ключевая функциональность нашего VPN сервера.</p>

<p>Настроим это в файле <code>/etc/sysctl.conf</code>:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">sudo nano /etc/sysctl.conf
</li></ul></code></pre>
<p>Найдите строку настройки <code>net.ipv4.ip_forward</code>. Удалите “#” из начала строки, чтобы раскомментировать её:</p>
<div class="code-label " title="/etc/sysctl.conf">/etc/sysctl.conf</div><pre class="code-pre "><code>net.ipv4.ip_forward=1
</code></pre>
<p>Сохраните и закройте файл.</p>

<p>Для применения настроек к текущей сессии наберите команду:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">sudo sysctl -p
</li></ul></code></pre>
<h3 id="Настройка-правил-ufw-для-сокрытия-соединений-клиентов">Настройка правил UFW для сокрытия соединений клиентов</h3>

<p>Если вы следовали статье о настройке Ubuntu 16.04, упомянутой в начале этой статьи, у вас должен быть установлен и настроен файрвол UFW. Вне зависимости от того, используете ли вы файрвол для блокировки нежелательного трафика (что вам стоит делать практически всегда), в этой статье нам потребуется файрвол для манипулирования с входящим на сервер трафиком. Мы должны изменить файл настроек для сокрытия соединений (masquerading).</p>

<p>Перед тем, как изменить этот файл, мы должны найти публичный интерфейс сети (public network interface). Для этого наберите команду:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">ip route | grep default
</li></ul></code></pre>
<p>Публичный интерфейс должен следовать за словом “dev”. Например, в нашем случае этот интерфейс называется <code>wlp11s0</code>:</p>
<pre class="code-pre "><code><div class="secondary-code-label " title="Вывод">Вывод</div>default via 203.0.113.1 dev <span class="highlight">wlp11s0</span>  proto static  metric 600
</code></pre>
<p>Зная название интерфейса откроем файл <code>/etc/ufw/before.rules</code> и добавим туда соответствующие настройки:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">sudo nano /etc/ufw/before.rules
</li></ul></code></pre>
<p>Это файл содержит настройки UFW, которое применяются перед применением правил UFW. Добавьте в начало файла выделенные красным строки. Это настроит правила, применяемые по умолчанию, к цепочке <code>POSTROUTING</code> в таблице <code>nat</code> и будет скрывать весь трафик от VPN:</p>

<p><span class="note"><strong>Внимание:</strong> не забудьте заменить <code>eth0</code> в строке <code>-A POSTROUTING</code> на имя интерфейса, найденное нами ранее.<br></span></p>
<div class="code-label " title="/etc/ufw/before.rules">/etc/ufw/before.rules</div><pre class="code-pre "><code>#
# rules.before
#
# Rules that should be run before the ufw command line added rules. Custom
# rules should be added to one of these chains:
#   ufw-before-input
#   ufw-before-output
#   ufw-before-forward
#

<span class="highlight"># START OPENVPN RULES</span>
<span class="highlight"># NAT table rules</span>
<span class="highlight">*nat</span>
<span class="highlight">:POSTROUTING ACCEPT [0:0] </span>
<span class="highlight"># Allow traffic from OpenVPN client to eth0</span>
<span class="highlight">-A POSTROUTING -s 10.8.0.0/8 -o eth0 -j MASQUERADE</span>
<span class="highlight">COMMIT</span>
<span class="highlight"># END OPENVPN RULES</span>

# Don't delete these required lines, otherwise there will be errors
*filter
. . .
</code></pre>
<p>Сохраните и закройте файл.</p>

<p>Теперь мы должны сообщить UFW, что ему по умолчанию необходимо разрешать перенаправленные пакеты. Для этого откройте файл <code>/etc/default/ufw</code>:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">sudo nano /etc/default/ufw
</li></ul></code></pre>
<p>Найдите в файле директиву <code>DEFAULT_FORWARD_POLICY</code>. Мы изменим значение с <code>DROP</code> на <code>ACCEPT</code>:</p>
<div class="code-label " title="/etc/default/ufw">/etc/default/ufw</div><pre class="code-pre "><code>DEFAULT_FORWARD_POLICY="<span class="highlight">ACCEPT</span>"
</code></pre>
<p>Сохраните и закройте файл.</p>

<h3 id="Открытие-порта-openvpn-и-применение-изменений">Открытие порта OpenVPN и применение изменений</h3>

<p>Далее настроим сам файрвол для разрешения трафика в OpenVPN.</p>

<p>Если вы не меняли порт и протокол в файле <code>/etc/openvpn/server.conf</code>, вам необходимо разрешить трафик UDP для порта 1194. Если вы изменили эти настройки, введите указанные вами значения.</p>

<p>Даже мы добавим порт SSH на случай, если вы не сделали этого ранее.</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">sudo ufw allow <span class="highlight">1194</span>/<span class="highlight">udp</span>
</li><li class="line" prefix="$">sudo ufw allow OpenSSH
</li></ul></code></pre>
<p>Теперь деактивируем и активируем UFW для применения внесённых изменений:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">sudo ufw disable
</li><li class="line" prefix="$">sudo ufw enable
</li></ul></code></pre>
<p>Теперь наш сервер сконфигурирован для обработки трафика OpenVPN.</p>

<a name="шаг-9-включение-сервиса-openvpn" data-unique="шаг-9-включение-сервиса-openvpn"></a><a name="шаг-9-включение-сервиса-openvpn" data-unique="шаг-9-включение-сервиса-openvpn"></a><h2 id="Шаг-9-Включение-сервиса-openvpn">Шаг 9. Включение сервиса OpenVPN</h2>

<p>Мы готовы включит сервис OpenVPN на нашем сервере. Мы можем сделать это с помощью systemd.</p>

<p>Нам необходимо запустить сервер OpenVPN указав имя нашего файла конфигурации в качестве переменной после имени файла systemd. Файл конфигурации для нашего сервера называется <code>/etc/openvpn/<span class="highlight">server</span>.conf</code>, поэтому мы добавим <code><span class="highlight">@server</span></code> в конец имени файла при его вызове:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">sudo systemctl start openvpn@<span class="highlight">server</span>
</li></ul></code></pre>
<p>Убедимся, что сервис успешно запущен командой:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">sudo systemctl status openvpn@server
</li></ul></code></pre>
<p>Если всё получилось, вывод должен выглядеть примерно следующим образом:</p>
<pre class="code-pre "><code><div class="secondary-code-label " title="Вывод">Вывод</div>● openvpn@server.service - OpenVPN connection to server
   Loaded: loaded (/lib/systemd/system/openvpn@.service; disabled; vendor preset: enabled)
   Active: <span class="highlight">active (running)</span> since Tue 2016-05-03 15:30:05 EDT; 47s ago
     Docs: man:openvpn(8)
           https://community.openvpn.net/openvpn/wiki/Openvpn23ManPage
           https://community.openvpn.net/openvpn/wiki/HOWTO
  Process: 5852 ExecStart=/usr/sbin/openvpn --daemon ovpn-%i --status /run/openvpn/%i.status 10 --cd /etc/openvpn --script-security 2 --config /etc/openvpn/%i.conf --writepid /run/openvpn/%i.pid (code=exited, sta
 Main PID: 5856 (openvpn)
    Tasks: 1 (limit: 512)
   CGroup: /system.slice/system-openvpn.slice/openvpn@server.service
           └─5856 /usr/sbin/openvpn --daemon ovpn-server --status /run/openvpn/server.status 10 --cd /etc/openvpn --script-security 2 --config /etc/openvpn/server.conf --writepid /run/openvpn/server.pid

May 03 15:30:05 openvpn2 ovpn-server[5856]: /sbin/ip addr add dev tun0 local 10.8.0.1 peer 10.8.0.2
May 03 15:30:05 openvpn2 ovpn-server[5856]: /sbin/ip route add 10.8.0.0/24 via 10.8.0.2
May 03 15:30:05 openvpn2 ovpn-server[5856]: GID set to nogroup
May 03 15:30:05 openvpn2 ovpn-server[5856]: UID set to nobody
May 03 15:30:05 openvpn2 ovpn-server[5856]: UDPv4 link local (bound): [undef]
May 03 15:30:05 openvpn2 ovpn-server[5856]: UDPv4 link remote: [undef]
May 03 15:30:05 openvpn2 ovpn-server[5856]: MULTI: multi_init called, r=256 v=256
May 03 15:30:05 openvpn2 ovpn-server[5856]: IFCONFIG POOL: base=10.8.0.4 size=62, ipv6=0
May 03 15:30:05 openvpn2 ovpn-server[5856]: IFCONFIG POOL LIST
May 03 15:30:05 openvpn2 ovpn-server[5856]: Initialization Sequence Completed
</code></pre>
<p>Вы также можете проверить доступность интерфейса OpenVPN <code>tun0</code> следующей командой:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">ip addr show tun0
</li></ul></code></pre>
<p>Вы должны увидеть конфигурацию интерфейса:</p>
<pre class="code-pre "><code><div class="secondary-code-label " title="Вывод">Вывод</div>4: tun0: &lt;POINTOPOINT,MULTICAST,NOARP,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UNKNOWN group default qlen 100
    link/none 
    inet 10.8.0.1 peer 10.8.0.2/32 scope global tun0
       valid_lft forever preferred_lft forever
</code></pre>
<p>Если всё в порядке, настроем сервис на автоматическое включение при загрузке сервера:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">sudo systemctl enable openvpn@server
</li></ul></code></pre>
<a name="шаг-10-создание-инфраструктуры-настройки-клиентов" data-unique="шаг-10-создание-инфраструктуры-настройки-клиентов"></a><a name="шаг-10-создание-инфраструктуры-настройки-клиентов" data-unique="шаг-10-создание-инфраструктуры-настройки-клиентов"></a><h2 id="Шаг-10-Создание-инфраструктуры-настройки-клиентов">Шаг 10. Создание инфраструктуры настройки клиентов</h2>

<p>Далее настроим систему для простого создания файлов конфигурации для клиентов.</p>

<h3 id="Создание-структуры-директорий-конфигурации-клиентов">Создание структуры директорий конфигурации клиентов</h3>

<p>В домашней директории создайте структуру директорий для хранения файлов:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">mkdir -p ~/client-configs/files
</li></ul></code></pre>
<p>Поскольку наши файлы конфигурации будут содержать клиентские ключи, мы должны настроить права доступа для созданных директорий:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">chmod 700 ~/client-configs/files
</li></ul></code></pre>
<h3 id="Создание-базовой-конфигурации">Создание базовой конфигурации</h3>

<p>Далее скопируем конфигурацию-пример в нашу директорию для использования в качестве нашей базовой конфигурации:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">cp /usr/share/doc/openvpn/examples/sample-config-files/client.conf ~/client-configs/base.conf
</li></ul></code></pre>
<p>Откройте этот файл в вашем текстовом редакторе:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">nano ~/client-configs/base.conf
</li></ul></code></pre>
<p>Сделаем несколько изменений в этом файле.</p>

<p>Сначала найдите директиву <code>remote</code>. Эта директива сообщает клиенту адрес нашего сервера OpenVPN. Это должен быть публичный IP адрес вашего сервера OpenVPN. Если вы изменили порт, который слушает сервер OpenVPN, измените порт по умолчанию <code>1194</code> на ваше значение:</p>
<div class="code-label " title="~/client-configs/base.conf">~/client-configs/base.conf</div><pre class="code-pre "><code>. . .
# The hostname/IP and port of the server.
# You can have multiple remote entries
# to load balance between the servers.
remote <span class="highlight">server_IP_address 1194</span>
. . .
</code></pre>
<p>Убедитесь, что протокол совпадает с настройками сервера:</p>
<div class="code-label " title="~/client-configs/base.conf">~/client-configs/base.conf</div><pre class="code-pre "><code>proto <span class="highlight">udp</span>
</code></pre>
<p>Далее раскомментируйте директивы <code>user</code> и <code>group</code> удаляя “;”:</p>
<div class="code-label " title="~/client-configs/base.conf">~/client-configs/base.conf</div><pre class="code-pre "><code># Downgrade privileges after initialization (non-Windows only)
user nobody
group nogroup
</code></pre>
<p>Найдите директивы <code>ca</code>, <code>cert</code> и <code>key</code>. Закомментируйте эти директивы, так как мы будем добавлять сертификаты и ключи в самом файле:</p>
<div class="code-label " title="~/client-configs/base.conf">~/client-configs/base.conf</div><pre class="code-pre "><code># SSL/TLS parms.
# See the server config file for more
# description.  It's best to use
# a separate .crt/.key file pair
# for each client.  A single ca
# file can be used for all clients.
<span class="highlight">#</span>ca ca.crt
<span class="highlight">#</span>cert client.crt
<span class="highlight">#</span>key client.key
</code></pre>
<p>Добавьте настройки <code>cipher</code> и <code>auth</code> согласно заданным в файле <code>/etc/openvpn/server.conf</code>:</p>
<div class="code-label " title="~/client-configs/base.conf">~/client-configs/base.conf</div><pre class="code-pre "><code><span class="highlight">cipher AES-128-CBC</span>
<span class="highlight">auth SHA256</span>
</code></pre>
<p>Далее добавьте директиву <code>key-direction</code> в любое место в файле. Она <strong>должна</strong> иметь значение “1” для корректной работы сервера:</p>
<div class="code-label " title="~/client-configs/base.conf">~/client-configs/base.conf</div><pre class="code-pre "><code><span class="highlight">key-direction 1</span>
</code></pre>
<p>Наконец, добавьте несколько <strong>закомментированных</strong> строк. Мы ходим добавить эти строки в каждый файл конфигурации, но они будут включены только для клиентов на Linux, которые используют файл <code>/etc/openvpn/update-resolv-conf</code>. Этот скрипт использует утилиту <code>resolvconf</code> для обновление информации DNS на клиентах Linux.</p>
<div class="code-label " title="~/client-configs/base.conf">~/client-configs/base.conf</div><pre class="code-pre "><code><span class="highlight"># script-security 2</span>
<span class="highlight"># up /etc/openvpn/update-resolv-conf</span>
<span class="highlight"># down /etc/openvpn/update-resolv-conf</span>
</code></pre>
<p>Если ваш клиент работает на Linux и использует файл <code>/etc/openvpn/update-resolv-conf</code>, вы должны раскомментировать эти строки в сгенерированном клиентском файле конфигурации OpenVPN.</p>

<p>Сохраните и закройте файл.</p>

<h3 id="Создание-скрипта-генерации-файлов-конфигурации">Создание скрипта генерации файлов конфигурации</h3>

<p>Теперь создадим простой скрипт для генерации файлов конфигурации с релевантными сертификатами, ключами и файлами шифрования. Он будет помещать сгенерированные файла конфигурации в директорию <code>~/client-configs/files</code>.</p>

<p>Создайте и откройте файл <code>make_config.sh</code> внутри директории <code>~/client-configs</code>:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">nano ~/client-configs/make_config.sh
</li></ul></code></pre>
<p>Вставьте следующие текст в этот файл:</p>
<div class="code-label " title="~/client-configs/make_config.sh">~/client-configs/make_config.sh</div><pre class="code-pre "><code>#!/bin/bash

# First argument: Client identifier

KEY_DIR=~/openvpn-ca/keys
OUTPUT_DIR=~/client-configs/files
BASE_CONFIG=~/client-configs/base.conf

cat ${BASE_CONFIG} \
    &lt;(echo -e '&lt;ca&gt;') \
    ${KEY_DIR}/ca.crt \
    &lt;(echo -e '&lt;/ca&gt;\n&lt;cert&gt;') \
    ${KEY_DIR}/${1}.crt \
    &lt;(echo -e '&lt;/cert&gt;\n&lt;key&gt;') \
    ${KEY_DIR}/${1}.key \
    &lt;(echo -e '&lt;/key&gt;\n&lt;tls-auth&gt;') \
    ${KEY_DIR}/ta.key \
    &lt;(echo -e '&lt;/tls-auth&gt;') \
    &gt; ${OUTPUT_DIR}/${1}.ovpn
</code></pre>
<p>Сохраните и закройте файл.</p>

<p>Сделайте его исполняемым файлом командой:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">chmod 700 ~/client-configs/make_config.sh
</li></ul></code></pre>
<a name="шаг-11-генерация-конфигураций-клиентов" data-unique="шаг-11-генерация-конфигураций-клиентов"></a><a name="шаг-11-генерация-конфигураций-клиентов" data-unique="шаг-11-генерация-конфигураций-клиентов"></a><h2 id="Шаг-11-Генерация-конфигураций-клиентов">Шаг 11. Генерация конфигураций клиентов</h2>

<p>Теперь мы можем легко сгенерировать файлы конфигурации клиентов.</p>

<p>Если вы следовали всем шагам этой статьи, вы создали сертификат <code>client1.crt</code> и ключ клиента <code>client1.key</code> командой <code>./build-key <span class="highlight">client1</span></code> на шаге 6. Вы можете сгенерировать конфигурацию для этих файлов перейдя в директорию <code>~/client-configs</code> и используя только что созданный нами скрипт:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">cd ~/client-configs
</li><li class="line" prefix="$">./make_config.sh <span class="highlight">client1</span>
</li></ul></code></pre>
<p>Если всё прошло успешно, мы должны получить файл <code>client1.ovpn</code> в директории <code>~/client-configs/files</code>:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">ls ~/client-configs/files
</li></ul></code></pre><pre class="code-pre "><code><div class="secondary-code-label " title="Вывод">Вывод</div>client1.ovpn
</code></pre>
<h3 id="Доставка-конфигураций-клиентам">Доставка конфигураций клиентам</h3>

<p>Теперь мы должны переместить файл конфигурации на клиентское устройство. Например, на компьютер или смартфон.</p>

<p>Способ доставки файла зависит от операционной системы вашего устройства и программного обеспечения, которое вы захотите использовать для перемещения файла. Мы рекомендуем передавать файл по защищённому соединению, например, с использованием SFTP или SCP.</p>

<p>Ниже мы приводим пример передачи файла <span class="highlight">client1.ovpn</span> с использованием SFTP. Следующую команду можно использовать на вашем локальном компьютере под управлением Mac OS или Linux. Она перемещает файл <code>.ovpn</code> в вашу домашнюю директорию:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">sftp sammy@openvpn_server_ip:client-configs/files/client1.ovpn ~/
</li></ul></code></pre>
<p>Ниже представлено несколько ссылок на инструменты и статьи о безопасном переносе файлов с сервера на локальный компьютер:</p>

<ul>
<li><a href="http://winscp.net/">WinSCP</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-use-sftp-to-securely-transfer-files-with-a-remote-server">Как использовать SFTP для безопасной передачи файлов с удалённого сервера</a></li>
<li><a href="https://www.digitalocean.com/community/tutorials/how-to-use-filezilla-to-transfer-and-manage-files-securely-on-your-vps">Как использовать Filezilla для передачи и управления файлами на удалённом сервере</a></li>
</ul>

<a name="шаг-12-установка-файлов-конфигураций-клиентов" data-unique="шаг-12-установка-файлов-конфигураций-клиентов"></a><a name="шаг-12-установка-файлов-конфигураций-клиентов" data-unique="шаг-12-установка-файлов-конфигураций-клиентов"></a><h2 id="Шаг-12-Установка-файлов-конфигураций-клиентов">Шаг 12. Установка файлов конфигураций клиентов</h2>

<p>Теперь мы поговорим о том, как устанавливать клиентские профили VPN на Windows, Mac OS, iOS и Android. Процесс установки уникален для каждой платформы, поэтому пропускайте платформы, которые вы не планируете использовать.</p>

<p>Название соединения OpenVPN зависит от того, как вы называли свой <code>.ovpn</code> файл. В нашем примере это будет <code>client1.ovpn</code>.</p>

<h3 id="windows">Windows</h3>

<h4 id="Установка">Установка</h4>

<p>Вы можете загрузить клиент для работы с OpenVPN для Windows со <a href="https://openvpn.net/index.php/open-source/downloads.html">страницы загрузок OpenVPN</a>. Выберите необходимую вам версию установщика.</p>

<p><span class="note"><strong>Внимание:</strong> установка OpenVPN требует администраторской учётной записи.<br></span></p>

<p>После установки OpenVPN скопируйте ваш <code>.ovpn</code> файл в эту директорию:</p>
<pre class="code-pre "><code>C:\Program Files\OpenVPN\config
</code></pre>
<p>Запустите OpenVPN, клиент должен автоматически увидеть ваш профиль.</p>

<p>Клиент OpenVPN требует запуска с правами администратора даже для аккаунтов администратора. Для запуска сделайте щелчок правой кнопкой мыши на клиенте и выберите <strong>Run as administrator</strong> каждый раз при запуске клиента. Это также означает, что обычные пользователи должны будут вводить пароль администратора для использования OpenVPN. </p>

<p>Для того, чтобы приложение OpenVPN всегда запускалось с правами администратора, сделайте щелчок правой кнопкой мыши на иконке клиента и перейдите в раздел <strong>Properties</strong>. В нижней части вкладки <strong>Compatibility</strong> нажмите на кнопку <strong>Change settings for all users</strong>. В открывшемся окне выберите <strong>Run this program as an administrator</strong>.</p>

<h4 id="Соединение">Соединение</h4>

<p>Каждый раз при запуске клиента OpenVPN Windows будет спрашивать, хотите ли вы разрешить программе внести изменения в настройки вашего компьютера. Нажмите <strong>Да</strong>. Запуск клиента OpenVPN просто помещает приложение в системный трей, при этом само соединение не устанавливается автоматически.</p>

<p>Для установки соединения сделайте щелчок правой кнопкой мыши на иконке OpenVPN в системном трее. В открывшемся контекстном меню выберите <strong>client1</strong> (это наш профиль <code>client1.ovpn</code>) и нажмите <strong>Connect</strong>.</p>

<p>Откроется окно статуса, которое будет отображать лог соединения. При завершении соединения вы увидите соответствующее сообщение.</p>

<p>Закрыть VPN соединение можно точно так же: сделайте щелчок правой кнопкой мыши на иконке OpenVPN в системном трее, выберите профиль клиента и нажмите <strong>Disconnect</strong>.</p>

<h3 id="mac-os">Mac OS</h3>

<h4 id="Установка">Установка</h4>

<p><a href="https://tunnelblick.net/">Tunnelblick</a> - это бесплатный OpenVPN клиент для Mac OS с открытым исходным кодом. Вы можете загрузить его со <a href="https://tunnelblick.net/downloads.html">страницы загрузок Tunnelblick</a>. Сделайте двойной щелчок на загруженном <code>.dmg</code> файле и следуйте инструкциям в процессе установки.</p>

<p>В конце процесса установки Tunnelblick спросит, есть ли у вас конфигурационные файлы. Проще всего ответить <strong>No</strong> и завершить установку Tunnelblick. Откройте Finder и сделайте двойной щелчок на <code>client1.ovpn</code>. Tunnelblick установит клиентский профиль. Для этого необходимы права администратора.</p>

<h4 id="Соединение">Соединение</h4>

<p>Запустите Tunnelblick двойным щелчком из папки <strong>Applications</strong>. После запуска в панели меню в правой верхней части экрана появится иконка Tunnelblick. Для установки соединения нажмите на иконку, а затем <strong>Connect</strong>. Далее выберите соединение <strong>client1</strong>.</p>

<h3 id="linux">Linux</h3>

<h4 id="Установка">Установка</h4>

<p>В зависимости от используемой вами версии Linux, вы можете использовать самые разные программы для установки соединения. Возможно, это умеет делать даже ваш менеджер окон.</p>

<p>Наиболее универсальным способом установки соединения, тем не менее, является программное обеспечение OpenVPN.</p>

<p>В Ubuntu или Debian вы можете установить его точно так же, как и на сервере:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">sudo apt-get update
</li><li class="line" prefix="$">sudo apt-get install openvpn
</li></ul></code></pre>
<p>В CentOS вы можете активировать EPEL репозитории и затем ввести следующие команды:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">sudo yum install epel-release
</li><li class="line" prefix="$">sudo yum install openvpn
</li></ul></code></pre>
<h4 id="Настройка">Настройка</h4>

<p>Сначала проверьте, содержит ли ваш дистрибутив скрипт <code>/etc/openvpn/update-resolv-conf</code>:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">ls /etc/openvpn
</li></ul></code></pre><pre class="code-pre "><code><div class="secondary-code-label " title="Вывод">Вывод</div>update-resolve-conf
</code></pre>
<p>Далее отредактируйте полученный с сервера файл конфигурации клиента OpenVPN:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">nano <span class="highlight">client1</span>.ovpn
</li></ul></code></pre>
<p>Если вам удалось найти файл <code>update-resolv-conf</code>, раскомментируйте следующие строки файла:</p>
<div class="code-label " title="client1.ovpn">client1.ovpn</div><pre class="code-pre "><code>script-security 2
up /etc/openvpn/update-resolv-conf
down /etc/openvpn/update-resolv-conf
</code></pre>
<p>Если вы используете CentOS, измените <code>group</code> с <code>nogroup</code> на <code>nobody</code>:</p>
<div class="code-label " title="client1.ovpn">client1.ovpn</div><pre class="code-pre "><code>group <span class="highlight">nobody</span>
</code></pre>
<p>Сохраните и закройте файл.</p>

<p>Теперь вы можете соединиться с VPN используя команду <code>openvpn</code> следующим образом:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">sudo openvpn --config <span class="highlight">client1</span>.ovpn
</li></ul></code></pre>
<p>В результате вы подключитесь к серверу.</p>

<h3 id="ios">iOS</h3>

<h4 id="Установка">Установка</h4>

<p>Найдите в iTunes App Store официальный клиент <a href="https://itunes.apple.com/us/app/id590379981">OpenVPN Connect</a> и установите его. Для переноса файла конфигурации клиента на ваше устройство, подключите устройство к компьютеру.</p>

<p>Запустите iTunes на компьютере и выберите <strong>iPhone &gt; apps</strong>. Найдите секцию <strong>File Sharing</strong> и нажмите на приложение OpenVPN. Перенесите ваш файл <code>.ovpn</code> в правую часть окна <strong>OpenVPN Documents</strong>.</p>

<p class="growable"><img src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/1.png" alt="Перенос файла OpenVPN на iOS"></p>

<p>Далее запустите приложение OpenVPN на iPhone. Вы получите уведомление, что новый профиль готов к импорту. Нажмите на зелёный плюсик для импорта профиля.</p>

<p><img src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/2.png" alt="Импорт файла OpenVPN на iOS"></p>

<h4 id="Соединение">Соединение</h4>

<p>OpenVPN готов к использованию с новым профилем. Для установки соединения потяните слайдер <strong>Connect</strong> в позицию <strong>On</strong>. Для остановки соединения переместите этот же слайдер в положение <strong>Off</strong>.</p>

<p></p><div class="code-label notes-and-warnings note" title="Внимание">Внимание</div><span class="note">
Переключатель VPN в приложении <strong>Settings</strong> нельзя использовать для установки соединения с VPN. Если вы попытаетесь это сделать, вы получите сообщение о том, что это возможно только в приложении OpenVPN.<br></span><p></p>

<p><img src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/3.png" alt="Установка соединения OpenVPN на iOS"></p>

<h3 id="android">Android</h3>

<h4 id="Установка">Установка</h4>

<p>Откройте Google Play Store. Найдите и установите официальное приложение OpenVPN <a href="https://play.google.com/store/apps/details?id=net.openvpn.openvpn">Android OpenVPN Connect</a>.</p>

<p>Передать профиль с компьютера на телефон можно подключив Android устройство к компьютеру через USB и скопировав файл. Вы также можете переместить файл профиля с помощью SD карты, скопировав профиль на карту и вставив карту в Android устройство.</p>

<p>Запустите приложение OpenVPN и нажмите на меню для импорта профиля.</p>

<p class="growable"><img src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/4.png" alt="Импорт файла OpenVPN на Android"></p>

<p>Далее найдите файл в файловой системе (в нашем примере это <code>/sdcard/Download/</code>) и выберите найденный файл. Приложение сообщит, что профиль был импортирован.</p>

<p><img src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/5.png" alt="Импорт файла OpenVPN на Android"></p>

<h4 id="Соединение">Соединение</h4>

<p>Для установки соединения нажмите кнопку <strong>Connect</strong>. Вам будет задан вопрос, доверяете ли вы приложению OpenVPN. Ответьте <strong>OK</strong> для установки соединения. Для остановки соединения зайдите в приложение OpenVPN и выберите <strong>Disconnect</strong>.</p>

<p class="growable"><img src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/6.png" alt="Установка соединения OpenVPN на Android"></p>

<a name="шаг-13-тестирование-vpn-соединения" data-unique="шаг-13-тестирование-vpn-соединения"></a><a name="шаг-13-тестирование-vpn-соединения" data-unique="шаг-13-тестирование-vpn-соединения"></a><h2 id="Шаг-13-Тестирование-vpn-соединения">Шаг 13. Тестирование VPN соединения</h2>

<p>После того, как всё установлено и настроено, убедимся, что всё работает правильно. Без установки соединения с VPN откройте браузер и зайдите на <a href="https://www.dnsleaktest.com/">DNSLeakTest</a>.</p>

<p>Этот сайт вернёт IP адрес, назначенный вам вашим Интернет-провайдером. Для того, чтобы проверить, какие DNS сервера используются, нажмите на <strong>Extended Test</strong>.</p>

<p>Теперь установите соединение, используя ваш VPN клиент и обновите страницу в браузере. Выдаваемый вам IP адрес должен быть совершенно другим. Теперь для всех в Интернете вы используете этот новый IP адрес. Нажмите <strong>Extended Test</strong> ещё раз, чтобы проверить ваши настройки DNS и убедитесь, что теперь вы используете DNS сервера вашего VPN.</p>

<a name="шаг-14-отзыв-клиентских-сертификатов" data-unique="шаг-14-отзыв-клиентских-сертификатов"></a><a name="шаг-14-отзыв-клиентских-сертификатов" data-unique="шаг-14-отзыв-клиентских-сертификатов"></a><h2 id="Шаг-14-Отзыв-клиентских-сертификатов">Шаг 14. Отзыв клиентских сертификатов</h2>

<p>Время от времени, вам может понадобиться отозвать клиентский сертификат для предотвращения доступа к серверу VPN&amp;</p>

<p>Для этого зайдите в вашу директорию центра сертификации и введите команды:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">cd ~/openvpn-ca
</li><li class="line" prefix="$">source vars
</li></ul></code></pre>
<p>Далее используйте команду <code>revoke-full</code> с именем клиента, сертификат которого вы хотите отозвать:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">./revoke-full <span class="highlight">client3</span>
</li></ul></code></pre>
<p>Вывод результатов работы этой команды будет оканчиваться ошибкой 23. Это нормально. В результате работы будет создан файл <code>crl.pem</code> в директории <code>keys</code> с необходимой для отзыва сертификата информацией.</p>

<p>Переместите этот файл в директорию <code>/etc/openvpn</code>:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">sudo cp ~/openvpn-ca/keys/crl.pem /etc/openvpn
</li></ul></code></pre>
<p>Далее откройте файл конфигурации сервера OpenVPN:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">sudo nano /etc/openvpn/server.conf
</li></ul></code></pre>
<p>Добавьте в конец файла строку <code>crl-verify</code>. Сервер OpenVPN будет проверять список отозванных сертификатов каждый раз, когда кто-то устанавливает соединение с сервером.</p>
<div class="code-label " title="/etc/openvpn/server.conf">/etc/openvpn/server.conf</div><pre class="code-pre "><code>crl-verify crl.pem
</code></pre>
<p>Сохраните и закройте файл.</p>

<p>Перезапустите OpenVPN для завершения процесса отзыва сертификата:</p>
<pre class="code-pre command prefixed"><code><ul class="prefixed"><li class="line" prefix="$">sudo systemctl restart openvpn@server
</li></ul></code></pre>
<p>Теперь клиент не сможет устанавливать соединение с сервером OpenVPN используя старый сертификат.</p>

<p>Для отзыва дополнительных сертификатов выполните следующие шаги:</p>

<ol>
<li><p>Сгенерируйте новый список отозванных сертификатов используя команду <code>source vars</code> в директории <code>~/openvpn-ca</code> и выполняя команду <code>revoke-full</code> с именем клиента.</p></li>
<li><p>Скопируйте новый список отозванных сертификатов в директорию <code>/etc/openvpn</code> перезаписав тем самым старый список.</p></li>
<li><p>Перезапустите сервис OpenVPN.</p></li>
</ol>

<p>Эта процедура может быть использована для отзыва любых созданных вами ранее сертификатов.</p>

<a name="заключение" data-unique="заключение"></a><a name="заключение" data-unique="заключение"></a><h2 id="Заключение">Заключение</h2>

<p>Поздравляем! Теперь вы можете безопасно выходить в Интернет, весь ваш трафик защищён от прослушки цензоров и злоумышленников.</p>

<p>Для конфигурации дополнительных клиентов повторите шаги <strong>6</strong> и <strong>11-13</strong> для каждого нового устройства. Для отзыва доступа того или иного клиента используйте шаг <strong>14</strong>.</p>

 </div>

</div>

<div class="tutorial-footer">
  <div class="tutorial-footer-details">


  <div class="postable-info-bar-container">
  <div class="postable-info-bar">
      <div class="author-byline">
        <div class="component-collaborators-container">
  <ul class="component-collaborators-content">
        <li class="collaborator-byline-avatar">
          <a href="https://www.digitalocean.com/community/users/jellingwood">
            <img alt="jellingwood" class="avatar avatar-large" src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/60d901f61a6146e14a3e989bc1f4ef11" width="80" height="80">
</a>        </li>

    <li class="collaborators-byline-data">
        <p class="names">By <a href="https://www.digitalocean.com/community/users/jellingwood">Justin Ellingwood</a></p>

      <p>
      </p>
    </li>
  </ul>
</div>

      </div>
  </div>
</div>


    <div class="section-content tutorial-contributors three">
      <div class="component-collaborators-container">
        <ul class="component-collaborators-content">


            <li class="collaborator-byline-avatar">
              <a href="https://www.digitalocean.com/community/users/maxmikheev">
                  <img alt="maxmikheev" class="avatar avatar-large" src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/18ed83519337e5bbb0de52340615977e.png" width="80" height="80">
</a>            </li>

          <li class="collaborators-byline-data">
              <p class="names">Translation: <a href="https://www.digitalocean.com/community/users/maxmikheev">maxmikheev</a></p>
          </li>
        </ul>
      </div>
    </div>

      <div class="tfb--container">
  <div class="tfb--content">
    <div class="tfb--undo tfb--hide">
      <span class="icon icon-helpfulness-upvoted"></span>
      <span class="tfb--question">Вы оценили этот перевод как полезный.</span>
      <button name="button" type="submit" class="tfb--button-down tfb--thumb-down-js">Undo</button>
    </div>

    <div class="tfb--flagging-undo tfb--hide">
      <span class="icon icon-helpfulness-flag"></span>
      <span class="tfb--question">Вы отметили этот перевод флагом.</span>
      <button name="button" type="submit" class="tfb--button-down tfb--unflagging-js">Undo</button>
    </div>

    <div class="tfb--do">
      <span class="tfb--question">Вам понравилось качество перевода?</span>
      <button name="button" type="submit" class="tfb--button tfb--thumb-up-js" data-translation-upvote-id="2194" data-translation-upvote-type="Tutorial" role="button" aria-label="Good">👍</button>
      <button name="button" type="submit" class="tfb--button tfb--flagging-js" data-translation-flag-id="2194" data-translation-flag-type="Tutorial" role="button" aria-label="Bad">👎</button>
    </div>
  </div>
</div>




      
<div class="hsb--container">
  <div class="hsb--content">
    <div class="hsb--undo hsb--hide">
      <span class="icon icon-helpfulness-upvoted"></span>
      <span class="hsb--question">You rated this helpful.</span>
      <button name="button" type="submit" class="hsb--button-down hsb--vote-down-js" data-upvotable-type="Tutorial">Undo</button>
    </div>

    <div class="hsb--flagging-undo hsb--hide">
      <span class="icon icon-helpfulness-flag"></span>
      <span class="hsb--question">You reported this tutorial.</span>
      <button name="button" type="submit" class="hsb--button-down hsb--unflagging-js">Undo</button>
    </div>

    <div class="hsb--do">
      <span class="hsb--question">Was this helpful?</span>
      <button name="button" type="submit" class="hsb--button hsb--vote-up-js" id="submit-upvote-report" data-upvotable-id="2194" data-upvotable-type="Tutorial">Yes</button>
      <button name="button" type="submit" class="hsb--button hsb--flagging-js" data-url="/community/tutorials/openvpn-ubuntu-16-04-ru/flag" data-flaggable-id="2194" data-flag-type="no">No</button>
    </div>

    <div class="hsb--social-and-comments">
      <div class="hsb--social-sharing">
        <a target="_blank" class="share-popup" href="http://twitter.com/share?text=%D0%9A%D0%B0%D0%BA%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B8%D1%82%D1%8C%20%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%20OpenVPN%20%D0%B2%20Ubuntu%2016.04&amp;url=https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?utm_content=openvpn-ubuntu-16-04-ru&amp;utm_medium=community&amp;utm_source=twshare">
          <span class="icon icon-helpfulness-twitter"></span>
</a>
        <a target="_blank" class="share-popup" href="https://www.facebook.com/sharer/sharer.php?u=https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?utm_content=openvpn-ubuntu-16-04-ru&amp;utm_medium=community&amp;utm_source=fbshare">
          <span class="icon icon-helpfulness-facebook"></span>
</a>
        <a target="_blank" class="share-popup" href="https://news.ycombinator.com/submitlink?t=%D0%9A%D0%B0%D0%BA%20%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B8%D1%82%D1%8C%20%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%20OpenVPN%20%D0%B2%20Ubuntu%2016.04&amp;u=https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?utm_content=openvpn-ubuntu-16-04-ru&amp;utm_medium=community&amp;utm_source=hnshare">
          <span class="icon icon-helpfulness-hacker-news"></span>
</a>      </div>

      <div class="hsb--comment">
        <span class="icon icon-helpfulness-comment"></span>
        <strong class="amount">79</strong>
      </div>
    </div>
  </div>
  <a class="hsb--flagging-js" data-url="/community/tutorials/openvpn-ubuntu-16-04-ru/flag" data-flaggable-id="2194" data-flag-type="report" href="javascript:void(0);">Report an issue</a>
</div>


</div>



  <div class="related-content">
    <div class="section-content">
      <h2>Related</h2>

      <ul>
        <li title="Настройка аутентификации по паролю для Apache в Ubuntu 18.04">
  <a class="panel" href="https://www.digitalocean.com/community/tutorials/how-to-set-up-password-authentication-with-apache-on-ubuntu-18-04-ru">
    <h6>Tutorial</h6>
    <div class="panel-data">
      <h5>Настройка аутентификации по паролю для Apache в Ubuntu 18.04</h5>
      <p data-clamp="" superclamp-ready="true">Вам как веб-администратору может быть полезна <span class="clamp-ellipsis">…</span></p>
    </div>
  </a>
</li>
<li title="Настройка аутентификации по паролю для Apache в Ubuntu 18.04 [Краткое руководство]">
  <a class="panel" href="https://www.digitalocean.com/community/tutorials/how-to-set-up-password-authentication-with-apache-on-ubuntu-18-04-quickstart-ru">
    <h6>Tutorial</h6>
    <div class="panel-data">
      <h5>Настройка аутентификации по паролю для Apache в Ubuntu 18.04 [Краткое руководство]</h5>
      <p data-clamp="" superclamp-ready="true">В этом обучающем руководстве мы <span class="clamp-ellipsis">…</span></p>
    </div>
  </a>
</li>
<li title="Оптимизация запросов MySQL с помощью кеширования ProxySQL в Ubuntu 16.04">
  <a class="panel" href="https://www.digitalocean.com/community/tutorials/how-to-optimize-mysql-queries-with-proxysql-caching-on-ubuntu-16-04-ru">
    <h6>Tutorial</h6>
    <div class="panel-data">
      <h5>Оптимизация запросов MySQL с помощью кеширования ProxySQL в Ubuntu 16.04</h5>
      <p data-clamp="" superclamp-ready="true">Автор выбрал фонд Free Software Foundation для получения <span class="clamp-ellipsis">…</span></p>
    </div>
  </a>
</li>
<li title="Установка Tinc и настройка базового VPN в Ubuntu 18.04">
  <a class="panel" href="https://www.digitalocean.com/community/tutorials/how-to-install-tinc-and-set-up-a-basic-vpn-on-ubuntu-18-04-ru">
    <h6>Tutorial</h6>
    <div class="panel-data">
      <h5>Установка Tinc и настройка базового VPN в Ubuntu 18.04</h5>
      <p data-clamp="" superclamp-ready="true">Tinc — демон виртуальной частной сети (VPN) с открытым исходным кодом, имеющий много <span class="clamp-ellipsis">…</span></p>
    </div>
  </a>
</li>

      </ul>
    </div>
  </div>



  <div class="looking-for-an-answer">
  <div class="section-content">
    <h4>Still looking for an answer?</h4>
    <div class="lfa--actions">
      <a href="https://www.digitalocean.com/community/questions/new?tags=VPN%2CUbuntu%2CUbuntu+16.04" class="lfa--action-box">
        <span class="icon icon-look-for-answer-question"></span>
        Ask a question
      </a>
      <a href="javascript:void(0)" class="lfa--action-box use-universal-search-js">
        <span class="icon icon-look-for-answer-search-thin"></span>
        Search for more help
      </a>
    </div>
  </div>
</div>

</div>

<div class="content-comments">
  <div class="section-content">
    <div class="tutorial commentable" id="tutorial_2194">

  <div class="comments-header">
    <h4 class="comments-count">
        <span>79 Comments</span>
    </h4>
  </div>

    <div class="response response-form no-avatar">
  <div class="js-display-on-error flash error hidden"></div>


  <form class="content-form disabled-form" id="new_comment" action="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru/comments" accept-charset="UTF-8" data-remote="true" method="post"><input name="utf8" type="hidden" value="✓" disabled="disabled">

    <div class="meltdown_wrap" style="height: auto;"><div class="meltdown_topmargin"></div><div class="meltdown_bar"><ul class="meltdown_controls meltdown_controls_preview"><li class="meltdown_control-preview meltdown_control meltdown_controlbutton disabled" title="" data-original-title="Toggle Preview"><span>Preview</span></li></ul><div class="preview-header">Markdown Preview</div><ul class="meltdown_controls meltdown_controls_main"><li class="meltdown_control-bold meltdown_control meltdown_controlbutton disabled" title="" data-original-title="Bold"><span unselectable="on">B</span></li><li class="meltdown_control-italics meltdown_control meltdown_controlbutton disabled" title="" data-original-title="Italics"><span unselectable="on">I</span></li><li class="meltdown_control-h1 meltdown_control meltdown_controlbutton disabled" title="" data-original-title="Header 1"><span unselectable="on">H1</span></li><li class="meltdown_control-h2 meltdown_control meltdown_controlbutton disabled" title="" data-original-title="Header 2"><span unselectable="on">H2</span></li><li class="meltdown_control-h3 meltdown_control meltdown_controlbutton disabled" title="" data-original-title="Header 3"><span unselectable="on">H3</span></li><li class="meltdown_control-ul meltdown_control meltdown_controlbutton disabled" title="" data-original-title="Unordered List"><span unselectable="on">UL</span></li><li class="meltdown_control-ol meltdown_control meltdown_controlbutton disabled" title="" data-original-title="Ordered List"><span unselectable="on">OL</span></li><li class="meltdown_control-link meltdown_control meltdown_controlbutton disabled" title="" data-original-title="Link"><span unselectable="on">Link</span></li><li class="meltdown_control-code meltdown_control meltdown_controlbutton disabled" title="" data-original-title="Code"><span unselectable="on">Code</span></li><li class="meltdown_control-highlight meltdown_control meltdown_controlbutton disabled" title="" data-original-title="Highlight"><span unselectable="on">Highlight</span></li><li class="meltdown_control-table meltdown_control meltdown_controlbutton disabled" title="" data-original-title="Table"><span unselectable="on">Table</span></li></ul></div><div class="meltdown_editor-wrap"><div class="meltdown_editor-deco"><textarea name="comment[content]" id="comment_content" placeholder="Leave a comment..." class="js-comment-content tutorial-comment-field meltdown_editor" data-markdown="true" disabled="disabled" style="overflow: hidden; overflow-wrap: break-word; resize: none; height: 120px;"></textarea></div></div><div class="meltdown_preview-wrap"><div class="meltdown_preview-wrap2"><div class="meltdown_preview-error-message">Could not load preview. <a href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Try again</a></div><div class="meltdown_preview-loading-message">Loading preview...</div><div class="meltdown_preview content-body"></div></div></div><div class="meltdown_bottommargin"></div></div>

      <div class="log-in-notice "><a href="https://www.digitalocean.com/community/auth/digitalocean">Sign In to Comment</a></div>

    <div class="clearfix"></div>
</form>
</div>


  <div class="comments">
    <ul class="response-list">
          <a class="hidden" rel="nofollow" data-remote="true" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru/comments">Load</a>
    <li id="comment_54103" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="54103" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/ipeacocks">ipeacocks</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=54103">December 27, 2016</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>Спасибо. Статья такая - что особо и думать не нужно.</p>

<p>Но хотелось бы почитать о технических деталях, генерации CA/ключей и их ролях и т.п.</p>

<p>Если udp менять на tcp при подключению к openvpn-серверу насколько проседает скорость?</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_54103" data-url="/community/comments/54103/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_54103">


  <div class="comments">
    <ul class="response-list">
      

      <li id="comment_58955" data-level="1" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="58955" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/general1308">general1308</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=58955">April 22, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>потесть а потом отпишись нам)</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_58955" data-url="/community/comments/58955/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_58955">


  <div class="comments">
    <ul class="response-list">
      

      <li id="comment_73789" data-level="2" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="73789" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/ipeacocks">ipeacocks</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=73789">October  2, 2018</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>В общем суть в том, что tcp over tcp использовать не нужно, только в случае, если udp заблокирован.</p>

<p><a href="http://sites.inka.de/bigred/devel/tcp-tcp.html" rel="nofollow">http://sites.inka.de/bigred/devel/tcp-tcp.html</a></p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_73789" data-url="/community/comments/73789/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_73789">


  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_73789"></div>
</div>
    </div>

  </li>



    </ul>
  </div>


  <div id="reply_anchor_comment_58955"></div>
</div>
    </div>

  </li>



    </ul>
  </div>


  <div id="reply_anchor_comment_54103"></div>
</div>
    </div>

  </li>

      <li id="comment_54925" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="54925" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/egortarget">egortarget</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=54925">January 19, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>Здравствуйте. Подскажите, что надо поменять в правилах UFW, что бы сохранился доступ к серверу по SSH.</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_54925" data-url="/community/comments/54925/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_54925">


  <div class="comments">
    <ul class="response-list">
      

      <li id="comment_58956" data-level="1" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="58956" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/general1308">general1308</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=58956">April 22, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>добавить только порт и включить выключить фаирвол. Т.е. разбиритесь с сттатее базованя настройка сервера(там и фаирвол). +не рекомендовал бы делавть опционально с днс пункт. После него пропадает интернет через опенвпн на клиенте.</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_58956" data-url="/community/comments/58956/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_58956">


  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_58956"></div>
</div>
    </div>

  </li>

      <li id="comment_76551" data-level="1" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="76551" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/latsi">latsi</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=76551">January 16, 2019</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>ufw allow ssh<br>
или если изменили порт то<br>
ufw allow номер порта</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_76551" data-url="/community/comments/76551/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_76551">


  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_76551"></div>
</div>
    </div>

  </li>



    </ul>
  </div>


  <div id="reply_anchor_comment_54925"></div>
</div>
    </div>

  </li>

      <li id="comment_55092" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="55092" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">3</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/gazovik72">Gazovik72</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=55092">January 24, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>Ошибка на<br>
Шаг 9. Включение сервиса OpenVPN<br>
Мы готовы включит сервис OpenVPN на нашем сервере. Мы можем сделать это с помощью systemd.</p>

<p>sudo systemctl start openvpn@server</p>

<p>в ответ пишет<br>
Job for <a href="mailto:openvpn@server.service" rel="nofollow">openvpn@server.service</a> failed because a timeout was exceeded. See “systemctl status <a href="mailto:openvpn@server.service" rel="nofollow">openvpn@server.service</a>” and “journalctl -xe” for details.</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_55092" data-url="/community/comments/55092/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_55092">


  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_55092"></div>
</div>
    </div>

  </li>

      <li id="comment_55312" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="55312" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/aramms">aramms</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=55312">January 29, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>Spasbo za xaroshuyu statyu,</p>

<p>Tolko umenya odna problema voznikla s podklyucheniem  RDP po VPN, podklyuchayus por RDP pishu ligin i parol i vse , zaveslo ves traffik. pomogite reshat problemu, Sposibo</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_55312" data-url="/community/comments/55312/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_55312">


  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_55312"></div>
</div>
    </div>

  </li>

      <li id="comment_57539" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="57539" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/me4b30871faaf52ab5f675372f">me4b30871faaf52ab5f675372f</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=57539">March 19, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>Когда мы пишем правила для UFW, статья говорит добавить такую строчку:</p>
<pre class="code-pre "><code>-A POSTROUTING -s 10.8.0.0/8 -o eth0 -j MASQUERADE
</code></pre>
<p>Но по умолчанию OpenVPN выделяет для себя сетку 10.8.0.0/24. Поэтому для безопасности стоит заменить ту строку на</p>
<pre class="code-pre "><code>-A POSTROUTING -s 10.8.0.0/24 -o eth0 -j MASQUERADE
</code></pre></div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_57539" data-url="/community/comments/57539/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_57539">


  <div class="comments">
    <ul class="response-list">
      

      <li id="comment_58957" data-level="1" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="58957" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/general1308">general1308</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=58957">April 22, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>а как сделать чтоб ипишник на клиенте менялся на ипишник сервака?</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_58957" data-url="/community/comments/58957/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_58957">


  <div class="comments">
    <ul class="response-list">
      

      <li id="comment_65302" data-level="2" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="65302" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/denis0k">denis0k</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=65302">October 24, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>проделать все обязательные пункты по инструкции и  <span class="highlight">(Опционально) Проталкивание изменений DNS для перенаправления всего трафика через VPN</span>. пока не сделал, не менялся адрес на клиенте :-)</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_65302" data-url="/community/comments/65302/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_65302">


  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_65302"></div>
</div>
    </div>

  </li>



    </ul>
  </div>


  <div id="reply_anchor_comment_58957"></div>
</div>
    </div>

  </li>



    </ul>
  </div>


  <div id="reply_anchor_comment_57539"></div>
</div>
    </div>

  </li>

      <li id="comment_58451" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="58451" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/impulse">Impulse</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=58451">April  7, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><h1 id="start-openvpn-rules">START OPENVPN RULES</h1>

<h1 id="nat-table-rules">NAT table rules</h1>

<p>*nat<br>
:POSTROUTING ACCEPT [0:0] </p>

<h1 id="allow-traffic-from-openvpn-client-to-eth0">Allow traffic from OpenVPN client to eth0</h1>

<p>-A POSTROUTING -s 10.8.0.0/8 -o eth0 -j MASQUERADE<br>
COMMIT</p>

<h1 id="end-openvpn-rules">END OPENVPN RULES</h1>

<p>Советую ’<em>nat’ поменять на ’</em>NAT’, потому что может команда не отрабатываться и будет ругаться на эту строку.</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_58451" data-url="/community/comments/58451/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_58451">


  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_58451"></div>
</div>
    </div>

  </li>

      <li id="comment_58954" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="58954" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/general1308">general1308</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=58954">April 22, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>К опенвпну конектится но ипишник который который родной так и остался родным. Вывод не работает. Если вам надо ипишник сервера.</p>

<p>А если делаешь опционально пункт с днс еще и дотсуп пропадает к интернету через опенвпн.</p>

<p>С фаирволом я б рекомендовал поокуратней и разобратся по стате базованя настройка которая упоминаеться в самом верху.</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_58954" data-url="/community/comments/58954/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_58954">


  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_58954"></div>
</div>
    </div>

  </li>

      <li id="comment_59404" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="59404" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/kuzanin">Kuzanin</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=59404">May  2, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>Спасибо, все получилось. Правда были некоторые проблемы с запуском и еще некоторые пункты, но разрешил все. Сервер Ubuntu 16.04. Хорошая и подробная статья!</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_59404" data-url="/community/comments/59404/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_59404">


  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_59404"></div>
</div>
    </div>

  </li>

      <li id="comment_60109" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="60109" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/vladiksonic">vladiksonic</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=60109">May 17, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>Можно дополнить вот этим:<br>
1) <code>block-outside-dns</code><br>
в конфиг-файл OpenVPN-клиента что бы прирезать утечку DNS<br>
2) <code>echo  1  &gt; /proc/sys/net/ipv4/icmp_echo_ignore_all</code><br>
что бы сервак не отзывался на пинги - усложнит обнаружение VPN<br>
3) <code>net.ipv4.icmp_echo_ignore_all = 1</code><br>
положить внутрь /etc/sysctl.conf с той же целью, что пункт 2, для того, что бы между ребутами жило<br>
4) <code>-I FORWARD -i tun0 -o tun0 -j DROP</code><br>
Это в /etc/ufw/before.rules, если мы не хотим, что бы клиенты могли общаться друг с другом.</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_60109" data-url="/community/comments/60109/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_60109">


  <div class="comments">
    <ul class="response-list">
      

      <li id="comment_60174" data-level="1" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="60174" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/vladiksonic">vladiksonic</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=60174">May 18, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>Итак, 2 + 3 слетает при перезапуске ufw. <br>
Вместо 2) и 3) я вписал внутрь /etc/ufw/before.rules:<br>
<code>-A ufw-before-input -p icmp --icmp-type echo-request -j DROP</code><br>
Вместо аналогичной строки:<br>
<code>-A ufw-before-input -p icmp --icmp-type echo-request -j ACCEPT</code><br>
и после этого настройка сохраняется.</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_60174" data-url="/community/comments/60174/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_60174">


  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_60174"></div>
</div>
    </div>

  </li>



    </ul>
  </div>


  <div id="reply_anchor_comment_60109"></div>
</div>
    </div>

  </li>

      <li id="comment_60418" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="60418" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/equus">Equus</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=60418">May 24, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>Подключается, но нет интернета и даже не пингуется сервер. Как исправить?</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_60418" data-url="/community/comments/60418/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_60418">


  <div class="comments">
    <ul class="response-list">
      

      <li id="comment_60618" data-level="1" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="60618" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/equus">Equus</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=60618">May 31, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>nano /etc/rc.local</p>
<pre class="code-pre "><code>добавляем строки до exit 0
iptables -A FORWARD -s 10.8.0.0/24 -j ACCEPT
iptables -A FORWARD -m state --state RELATED,ESTABLISHED -j ACCEPT
iptables -t nat -A POSTROUTING -s 10.8.0.0/24 -o eth0 -j MASQUERADE
</code></pre></div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_60618" data-url="/community/comments/60618/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_60618">


  <div class="comments">
    <ul class="response-list">
      

      <li id="comment_64011" data-level="2" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="64011" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/beletskiyv">beletskiyv</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=64011">August 29, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>Ничего там не надо дописывать, посмотри внимательней вот в этом месте.</p>

<h1 id="start-openvpn-rules">START OPENVPN RULES</h1>

<h1 id="nat-table-rules">NAT table rules</h1>

<p>*nat<br>
:POSTROUTING ACCEPT [0:0] </p>

<h1 id="allow-traffic-from-openvpn-client-to-eth0">Allow traffic from OpenVPN client to eth0</h1>

<p>-A POSTROUTING -s 10.8.0.0/8 -o eth0 -j MASQUERADE<br>
COMMIT</p>

<h1 id="end-openvpn-rules">END OPENVPN RULES</h1>

<p>Я лично буковку -s не поставил перед 10.8.0.0/8 и правило у меня тупо не выполнялось и была такая же проблема как у тебя. Исправил и все стало норм.</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_64011" data-url="/community/comments/64011/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_64011">


  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_64011"></div>
</div>
    </div>

  </li>

      <li id="comment_64013" data-level="2" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="64013" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/beletskiyv">beletskiyv</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=64013">August 29, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>Ну а за подсказку спасибо :) Именно изучая что делают написанные тобой строки, понял в чем ошибка у меня))</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_64013" data-url="/community/comments/64013/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_64013">


  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_64013"></div>
</div>
    </div>

  </li>

      <li id="comment_82666" data-level="2" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="82666" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/yachmenevsv">yachmenevsv</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=82666">October  1, 2019</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>Все сделал по инструкции и твою запись пробовал добавлять, но интернет так и не появился( Есть еще варианты куда копать?</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_82666" data-url="/community/comments/82666/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_82666">


  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_82666"></div>
</div>
    </div>

  </li>



    </ul>
  </div>


  <div id="reply_anchor_comment_60618"></div>
</div>
    </div>

  </li>



    </ul>
  </div>


  <div id="reply_anchor_comment_60418"></div>
</div>
    </div>

  </li>

      <li id="comment_61359" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="61359" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/kuzentio">kuzentio</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=61359">June 17, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>Прошел по туториалу, все работает, но только с файлом конфигурации client1.ovpn, при генерации сертификатов, ключей и файлов конфигураций для других клиентов (client2.ovpn, client3.ovpn, …), не может подключиться к серверу.<br>
<code>write UDPv4: Can't assign requested address (code=49)</code></p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_61359" data-url="/community/comments/61359/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_61359">


  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_61359"></div>
</div>
    </div>

  </li>

      <li id="comment_61593" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="61593" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/freelancr">freelancr</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=61593">June 21, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>Огромнейшее-преогромнейшее человеческое спасибо.</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_61593" data-url="/community/comments/61593/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_61593">


  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_61593"></div>
</div>
    </div>

  </li>

      <li id="comment_61894" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="61894" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">1</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/glebnovikov">glebnovikov</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=61894">June 28, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>Сделал всё по гайду, в Tunnelblick говорит, что passphrase не та. Заглянул в конфиг, там поле &lt;key&gt;&lt;/key&gt; пустое, это норма?</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_61894" data-url="/community/comments/61894/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_61894">


  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_61894"></div>
</div>
    </div>

  </li>

      <li id="comment_61912" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="61912" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/swhtlover">swhtlover</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=61912">June 28, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>Добрый день. Все сделал как гласит статья, но в Android клиенте постоянно пишится Looking up DNS name, что я сделал не так?</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_61912" data-url="/community/comments/61912/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_61912">


  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_61912"></div>
</div>
    </div>

  </li>

      <li id="comment_61957" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="61957" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/vope">vope</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=61957">June 29, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>Если вы все сделали как написано, но ip все равно тот же - в файл <strong>client1.ovpn</strong> нужно дописать <code>redirect-gateway def1</code></p>

<p>Статья отличная, очень помогла.</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_61957" data-url="/community/comments/61957/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_61957">


  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_61957"></div>
</div>
    </div>

  </li>

      <li id="comment_61973" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="61973" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/swhtlover">swhtlover</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=61973">June 29, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>Настроил сервер. Все работает отлично, покрайней мере на Андроиде, если сижу через десктоп браузер (Chrome), то большинство сайтов не открывается. Подскажите в чем проблема?</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_61973" data-url="/community/comments/61973/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_61973">


  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_61973"></div>
</div>
    </div>

  </li>

      <li id="comment_63016" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="63016" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">1</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/clu">Clu</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=63016">July 28, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>Статья замечательная, автору большое спасибо! Хоть и удалось настроить сервер не с первой попытки, но в целом все очень понятно.<br>
Пользуюсь OpenVPN чуть больше полугода, очень доволен результатом и стабильностью работы.<br>
Недавно у меня возник один вопрос, а так как я новичок в этом деле, то решил задать его здесь, вдруг кто поможет. <br>
Как настроить лимит трафика для каждого клиента по отдельности?<br>
К примеру для client1 надо 10 Гб, для client2 5 Гб и т.д. С ежемесячным обновлением счетчика трафика для каждого из клиентов по отдельности или для удобства, определенного списка клиентов. Заранее спасибо! </p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_63016" data-url="/community/comments/63016/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_63016">


  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_63016"></div>
</div>
    </div>

  </li>

      <li id="comment_63598" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="63598" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/megashurik">megashurik</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=63598">August 12, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>Отличная статья, спасибо автору. Столкнулся только с проблемой, что два клиента, подключенные к серверу - не видят друг друга. Как можно исправить?<br>
Мне не нужно, чтобы клиенты ходили в интернет через сервер. Мне нужно только чтобы они друг друга все видели. Чтобы у клиентов, подключенных по VPN образовалась своя локалка.</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_63598" data-url="/community/comments/63598/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_63598">


  <div class="comments">
    <ul class="response-list">
      

      <li id="comment_63602" data-level="1" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="63602" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/riuson">riuson</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=63602">August 12, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>Попробуйте в конфиге сервере включить</p>
<pre class="code-pre "><code>topology subnet
client-to-client
</code></pre></div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_63602" data-url="/community/comments/63602/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_63602">


  <div class="comments">
    <ul class="response-list">
      

      <li id="comment_63603" data-level="2" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="63603" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/megashurik">megashurik</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=63603">August 12, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>Йееееее! Спасибо огромное!!!</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_63603" data-url="/community/comments/63603/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_63603">


  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_63603"></div>
</div>
    </div>

  </li>

      <li id="comment_69374" data-level="2" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="69374" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/visionserg">visionserg</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=69374">March 31, 2018</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>а если мне нужно чтоб они и между собой общались, и наружу выходили?<br>
 первое убирать?</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_69374" data-url="/community/comments/69374/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_69374">


  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_69374"></div>
</div>
    </div>

  </li>



    </ul>
  </div>


  <div id="reply_anchor_comment_63602"></div>
</div>
    </div>

  </li>



    </ul>
  </div>


  <div id="reply_anchor_comment_63598"></div>
</div>
    </div>

  </li>

      <li id="comment_63998" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="63998" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/johnsonafbc1adcd05c4e192d2">johnsonafbc1adcd05c4e192d2</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=63998">August 29, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>подскажите, не могу добавить новых клиентов…<br>
root@zur02:~# cd ~/openvpn-ca<br>
root@zur02:~/openvpn-ca# source vars<br>
NOTE: If you run ./clean-all, I will be doing a rm -rf on /root/openvpn-ca/keys<br>
root@zur02:~/openvpn-ca# ./build-key client2<br>
pkitool: Need a readable ca.crt and ca.key in /root/openvpn-ca/keys<br>
Try pkitool –initca to build a root certificate/key.</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_63998" data-url="/community/comments/63998/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_63998">


  <div class="comments">
    <ul class="response-list">
      

      <li id="comment_64074" data-level="1" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="64074" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/pivden">pivden</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=64074">August 31, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>выйдите из root-а</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_64074" data-url="/community/comments/64074/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_64074">


  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_64074"></div>
</div>
    </div>

  </li>

      <li id="comment_64086" data-level="1" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container comment-reply-container">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="64086" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/pivden">pivden</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=64086">August 31, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>Need a readable ca.crt and ca.key in /root/openvpn-ca/keys</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_64086" data-url="/community/comments/64086/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_64086">


  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_64086"></div>
</div>
    </div>

  </li>



    </ul>
  </div>


  <div id="reply_anchor_comment_63998"></div>
</div>
    </div>

  </li>

      <li id="comment_64075" data-level="0" class="comment-container" style="">
    <div class="response comment-body-container    " data-highlight="">
      <div class="comment-upvote-container ">
        <button name="button" type="button" class="new-upvote-button" data-include-caret="true" data-upvotable-id="64075" data-upvotable-type="Comment"><span class="icon new-upvote-icon"><svg class="svg-icon svg-icon-upvote-empty "><use xlink:href="https://www.digitalocean.com/assets/community/icon-sprite-6db2f880c17dcf7f85e48e0b5358863d.svg#icon-upvote-empty"></use></svg></span><span class="new-upvote-count">0</span></button>
      </div>
      <div class="ox-auto">
        <div class="comment-header">
          <span class="response-name"><a class="username" href="https://www.digitalocean.com/community/users/pivden">pivden</a></span>
          
          <span class="response-time"><a rel="nofollow" class="post-time-link" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru?comment=64075">August 31, 2017</a></span>

          
        </div>

        

            <div class="response-body content-body ">
              <div class=""><p>&lt;^&gt;WARNING: INSECURE cipher with block size less than 128 bit (64 bit).  This allows attacks like SWEET32.  Mitigate by using a –cipher with a larger block size (e.g. AES-256-CBC).<br>
&lt;^&gt;<br>
не страшно конечно, можно и AES-128-CBC  оставить.</p>
</div>
              
            </div>

            

        <div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>


        <div class="content-actions ">
  <div class="comment-actions">
        <a data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">
          <b>Reply</b>
</a>
    <a class="comment-action flag unflagged" id="flag_comment_64075" data-url="/community/comments/64075/flag" data-toggle="modal" data-target="#sign-in-modal" data-type="Comment" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#">Report</a>

    
  </div>

  <div class="comment-moderation-actions">
    <ul class="comment-moderation-actions-list ">
      











    


    </ul>
  </div>
</div>

      </div>
      <div class="clear"></div>
    </div>
    <div class="response-comments ">
      <div class="response_comment commentable comment" id="response_comment_64075">


  <div class="comments">
    <ul class="response-list">
      



    </ul>
  </div>


  <div id="reply_anchor_comment_64075"></div>
</div>
    </div>

  </li></ul><div class="comment-pagination"><span class="previous_page disabled">Previous</span> <em class="current">1</em> <a rel="next nofollow" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru/comments?page=2">2</a> <a rel="nofollow" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru/comments?page=3">3</a> <a class="next_page" rel="next nofollow" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru/comments?page=2">Next</a></div>

      <div class="comments-spinner" style="display: none;"><div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>
</div>
  </div>

  <div class="load-more-container"><a class="load-more" href="javascript:void(0);"><span class="load-more-text">Load More Comments</span><div class="comments-spinner" style="display: none;"><div class="spinner spinner-large">
  <div class="bounce1"></div>
  <div class="bounce2"></div>
  <div class="bounce3"></div>
  
</div>
</div></a></div>
</div>


  </div>
</div>

<div class="creative-commons">
  <a class="creative-commons-image" href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><img rel="license" alt="Creative Commons License" src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/creativecommons-08b32a9279fcd47fcd78ac6a26331389.png"></a>
  <div class="license-text">This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.</div>
</div>









        <div class="clearfix"></div>
      </div>

      
      <footer>
        <section>
            <a href="https://www.digitalocean.com/community/pages/write-for-digitalocean" class="panel">
            <div class="photo_wrap">
              <img class="photo" src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/70910e9fdeb57be46aaa209ce8d9b4dc8e117fab_w4do2.jpg" alt="">
            </div>
            <span class="heading">Become a contributor</span>
            <p>
                You get paid; we donate to tech nonprofits.
            </p>
          </a>
            <a href="https://www.digitalocean.com/community/newsletter" class="panel">
            <div class="photo_wrap">
              <img class="photo" src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/ca12c951cc76f33037f3384bba9942545d160d82_iaan_illo.jpg" alt="">
            </div>
            <span class="heading">Get our biweekly newsletter</span>
            <p>
                Sign up for Infrastructure as a Newsletter.
            </p>
          </a>
            <a href="https://www.digitalocean.com/community/pages/covid-19" class="panel">
            <div class="photo_wrap">
              <img class="photo" src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/21ab4275-bcf3-42ac-b148-6f81d516ca1d_Twitter_graphic.png" alt="">
            </div>
            <span class="heading">COVID-19 Support Program</span>
            <p>
                Working on something related to COVID-19? DigitalOcean would like to help.
            </p>
          </a>
      </section>
      <section class="slim ">
        <span class="heading">Featured on Community</span>
            <a href="https://www.digitalocean.com/community/curriculums/kubernetes-for-full-stack-developers">Kubernetes Course</a>
            <a href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-python-3">Learn Python 3</a>
            <a href="https://www.digitalocean.com/community/tutorials/machine-learning-projects-python-a-digitalocean-ebook">Machine Learning in Python</a>
            <a href="https://www.digitalocean.com/community/tutorials/how-to-write-your-first-program-in-go">Getting started with Go</a>
            <a href="https://www.digitalocean.com/community/tutorials/an-introduction-to-kubernetes">Intro to Kubernetes</a>
        <hr>
        <span class="heading">DigitalOcean Products</span>
            <a href="https://www.digitalocean.com/products/droplets/">Droplets</a>
            <a href="https://www.digitalocean.com/products/managed-databases/">Managed Databases</a>
            <a href="https://www.digitalocean.com/products/kubernetes/">Managed Kubernetes</a>
            <a href="https://www.digitalocean.com/products/spaces/">Spaces Object Storage</a>
            <a href="https://marketplace.digitalocean.com/">Marketplace</a>
      </section>
        <section class="product">
          <a class="copy" href="https://www.digitalocean.com/products">
            <h3>Welcome to the developer cloud</h3>
            <p>DigitalOcean makes it simple to launch in the cloud and scale up as you grow – whether you’re running one virtual machine or ten thousand.</p>
            <span class="link_text">Learn More</span>
          </a>
          <div class="feature">
            <a class="img_wrap" href="https://www.digitalocean.com/products">
              <img class="photo" src="./Как настроить сервер OpenVPN в Ubuntu 16.04 _ DigitalOcean_files/95c1215227aa7f39f2bd23076de28feb969741c7_cloud.digitalocean.com_projects_63f9252f-652b-4645-9c0c-bee96f2bc503_resources_ic0ce81-2.png" alt="DigitalOcean Cloud Control Panel">
            </a>
          </div>
        </section>
        <section class="dark">
          <div class="vlist grow">
            <a href="https://www.digitalocean.com/">
              <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50 50">
                <title>DigitalOcean Homepage</title>
                <g fill="#0080FF" fill-rule="evenodd">
                  <path d="M24.9153 50v-9.661c10.226 0 18.1638-10.1413 14.2372-20.904-1.4406-3.983-4.6327-7.1751-8.6158-8.6158C19.774 6.921 9.6327 14.8305 9.6327 25.0565H0C0 8.7571 15.7627-3.9548 32.8531 1.3842c7.4576 2.3446 13.418 8.2768 15.7345 15.7344C53.9266 34.2373 41.2429 50 24.9153 50">
                  </path>
                  <path d="M15.339 40.3672h9.6045v-9.6045H15.339zM7.9379 47.7684h7.401v-7.4012H7.938zM1.7514 40.3672H7.938v-6.1864H1.7514z">
                  </path>
                </g>
              </svg>
            </a>
            <br><br>
            © <script type="text/javascript">
              document.write(new Date().getFullYear());

            </script>2020 DigitalOcean, LLC. All rights reserved.
          </div>

              <div class="vlist">
                <span class="heading">Company</span>
                <ul>
                    <li>
                      <a href="https://www.digitalocean.com/about/">About</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/about/leadership/">Leadership</a>
                    </li>
                    <li>
                      <a href="https://blog.digitalocean.com/">Blog</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/careers/">Careers</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/partners/">Partners</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/referral-program/">Referral Program</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/press/">Press</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/legal/">Legal &amp; Security</a>
                    </li>
                </ul>
              </div>
              <div class="vlist">
                <span class="heading">Products</span>
                <ul>
                    <li>
                      <a href="https://www.digitalocean.com/products/">Products Overview</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/pricing/">Pricing</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/products/droplets/">Droplets</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/products/kubernetes/">Kubernetes</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/products/managed-databases/">Managed Databases</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/products/spaces/">Spaces</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/products/marketplace/">Marketplace</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/products/load-balancer/">Load Balancers</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/products/block-storage/">Block Storage</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/products/tools-and-integrations/">Tools &amp; Integrations</a>
                    </li>
                    <li>
                      <a href="https://developers.digitalocean.com/documentation/">API</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/docs">Documentation</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/docs/release-notes/">Release Notes</a>
                    </li>
                </ul>
              </div>
              <div class="vlist">
                <span class="heading">Community</span>
                <ul>
                    <li>
                      <a href="https://www.digitalocean.com/community/tutorials">Tutorials</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/community/questions">Q&amp;A</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/community/tools">Tools and Integrations</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/community/tags">Tags</a>
                    </li>
                    <li>
                      <a href="https://ideas.digitalocean.com/">Product Ideas</a>
                    </li>
                    <li>
                      <a href="https://www.meetup.com/pro/digitalocean/?utm_source=do_www">Meetups</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/write-for-donations/">Write for DOnations</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/droplets-for-demos/">Droplets for Demos</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/hatch/">Hatch Startup Program</a>
                    </li>
                    <li>
                      <a href="http://store.digitalocean.com/">Shop Swag</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/research/">Research Program</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/open-source/">Open Source</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/community/pages/code-of-conduct">Code of Conduct</a>
                    </li>
                </ul>
              </div>
              <div class="vlist">
                <span class="heading">Contact</span>
                <ul>
                    <li>
                      <a href="https://www.digitalocean.com/support/start/">Get Support</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/docs/getting-started/faq/">Trouble Signing In?</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/company/contact/sales/">Sales</a>
                    </li>
                    <li>
                      <a href="https://www.digitalocean.com/company/contact/#abuse">Report Abuse</a>
                    </li>
                    <li>
                      <a href="https://status.digitalocean.com/">System Status</a>
                    </li>
                </ul>
              </div>
        </section>
      </footer>


      <div id="sign-in-modal" class="modal fade mini-modal" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1>Almost there!</h1>
        <a class="close-button" data-dismiss="modal" aria-label="close" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru"><span class="icon icon-close-light"></span></a>
      </div>
      <div class="modal-body">
        <div class="sign-in-message">Sign into your account, or create a new one, to start interacting.</div>

        <div class="sign-in-modal-actions">
          <a class="sign-in-link button blue-button" data-default-url="/community/auth/digitalocean" href="https://www.digitalocean.com/community/auth/digitalocean">Sign In</a>
          <a class="sign-up-link button blue-button" data-default-url="/community/auth/digitalocean?display=sessionless+register" href="https://www.digitalocean.com/community/auth/digitalocean?display=sessionless+register">Sign Up</a>
        </div>
      </div>
    </div>
  </div>
</div>



      <script>
    $(function() {
      window.initTranslationFeedbackActions(2194);
    });
  </script>
  <script>
    $(function() {
      window.initHelpfulnessActions(2194, '/community/tutorials/openvpn-ubuntu-16-04-ru/flag');
    });
  </script>

  <script>
    $(function() {
      if (!!window.init_sharing) {
        window.init_sharing();
      }
      new window.NewsletterSignup();
      new window.GrowableMarkdown({ target: '[data-growable-markdown]' });
    });
  </script>
  <script type="application/ld+json">
    {"@context":"http://schema.org","@type":"Article","name":"Как настроить сервер OpenVPN в Ubuntu 16.04","headline":"Как настроить сервер OpenVPN в Ubuntu 16.04","alternativeHeadline":"Как настроить сервер OpenVPN в Ubuntu 16.04","description":"Хотите иметь безопасный и защищённый доступ в Интернет с вашего смартфона или ноутбука при подключении к незащищённой сети через WiFi отеля или кафе? Виртуальная частная сеть (Virtual Private Network, VPN) позволяет...","keywords":"VPN,Ubuntu,Ubuntu 16.04","url":"https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru"},"dateModified":"2019-09-18T19:54:36Z","inLanguage":"ru","accessMode":"textual","accessModeSufficient":"textual","isAccessibleForFree":true,"license":"https://creativecommons.org/licenses/by-nc-sa/4.0/","publishingPrinciples":"https://www.digitalocean.com/community/tutorials/technical-recommendations-and-best-practices-for-digitalocean-s-tutorials","author":[{"@type":"Person","name":"Justin Ellingwood","@id":"https://www.digitalocean.com/community/users/jellingwood"}],"datePublished":"2016-12-20T23:08:58Z","image":{"@type":"ImageObject","url":"https://www.digitalocean.com/assets/community/illustrations/DigitalOcean_Community-02cc36407e7a978ed4fc9ed98f3ed87c.jpg","height":375,"width":750},"interactionStatistic":[{"@type":"InteractionCounter","interactionType":"http://schema.org/LikeAction","userInteractionCount":"74"},{"@type":"InteractionCounter","interactionType":"http://schema.org/CommentAction","userInteractionCount":"57"}],"sourceOrganization":{"@type":"Organization","name":"DigitalOcean Community","url":"https://www.digitalocean.com/community"},"publisher":{"@type":"Organization","name":"DigitalOcean","url":"https://www.digitalocean.com","logo":{"@type":"ImageObject","url":"https://assets.digitalocean.com/logos/DO_Logo_horizontal_blue.png","width":351,"height":60}},"comment":[{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Ошибка на Шаг 9. Включение сервиса OpenVPN Мы готовы включит сервис OpenVPN на нашем сервере. Мы можем сделать это с помощью systemd. sudo systemctl start openvpn@server в ответ пишет Job for openvpn@server.service failed because a timeout was exceeded. See “systemctl status openvpn@server.service” and “journalctl -xe” for details."}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"После команды gunzip -c /usr/share/doc/openvpn/examples/sample-config-files/server.conf.gz | sudo tee /etc/openvpn/server.conf пишет: gzip: tee.gz: No such file or directory gzip: /etc/openvpn/server.conf.gz: No such file or directory Подскажите, в чем проблема, пожалуйста."}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Можно дополнить вот этим: 1) block-outside-dns в конфиг-файл OpenVPN-клиента что бы прирезать утечку DNS 2) echo 1 \u003e /proc/sys/net/ipv4/icmp_echo_ignore_all что бы сервак не отзывался на пинги - усложнит обнаружение VPN 3) net.ipv4.icmp_echo_ignore_all = 1 положить внутрь /etc/sysctl.conf с той же целью, что пункт 2, для того, что бы между ребутами жило 4) -I FORWARD -i tun0 -o tun0 -j DROP Это в /etc/ufw/before.rules, если мы не хотим, что бы клиенты могли общаться друг с другом."}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Спасибо. Статья такая - что особо и думать не нужно. Но хотелось бы почитать о технических деталях, генерации CA/ключей и их ролях и т.п. Если udp менять на tcp при подключению к openvpn-серверу насколько проседает скорость?"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"спасибо за перевод! с первого раза не заработало. как оказалось, пункт с DNS все-таки обязательный, а не опциональный, иначе реальный адрес на адрес сервака не меняется. но после всей настройки и возвращения к нему все равно не заработало, наоборот инет напрочь пропал, хотя до настройки работал хотя бы с реальным адресом. грохнул профиль, перенастроился заново с этим пунктом и все работает. теперь вот меня другой вопрос инетересует — как бы этот VPN пробросить сразу через роутер, чтобы любое подключенное к роутеру устройство сразу работало через VPN? нашел лишний рутер, накатил на него прошивку OpenWRT и теперь гуглю, как там проброс в VPN сделать. пока результатов нет ;-)"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Подключается, но нет интернета и даже не пингуется сервер. Как исправить?"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Вот тут есть статья по установке винды на ДО: https://teamhelps.pp.ua/top/ustanovka-windows-7-x86-na-digital-ocean/"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Здравствуйте. Подскажите, что надо поменять в правилах UFW, что бы сохранился доступ к серверу по SSH."}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Thanks for the tutorial. I went throught the tutorial and used TCP connection. But my configuration keeps restarting. What can I do? Sorry can’t write in Russian"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Отличная статья, спасибо автору. Столкнулся только с проблемой, что два клиента, подключенные к серверу - не видят друг друга. Как можно исправить? Мне не нужно, чтобы клиенты ходили в интернет через сервер. Мне нужно только чтобы они друг друга все видели. Чтобы у клиентов, подключенных по VPN образовалась своя локалка."}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Spasbo za xaroshuyu statyu, Tolko umenya odna problema voznikla s podklyucheniem RDP po VPN, podklyuchayus por RDP pishu ligin i parol i vse , zaveslo ves traffik. pomogite reshat problemu, Sposibo"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"подскажите, не могу добавить новых клиентов… root@zur02:~# cd ~/openvpn-ca root@zur02:~/openvpn-ca# source vars NOTE: If you run ./clean-all, I will be doing a rm -rf on /root/openvpn-ca/keys root@zur02:~/openvpn-ca# ./build-key client2 pkitool: Need a readable ca.crt and ca.key in /root/openvpn-ca/keys Try pkitool –initca to build a root certificate/key."}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Прошел по туториалу, все работает, но только с файлом конфигурации client1.ovpn, при генерации сертификатов, ключей и файлов конфигураций для других клиентов (client2.ovpn, client3.ovpn, …), не может подключиться к серверу. write UDPv4: Can't assign requested address (code=49)"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"\u003c^\u003eWARNING: INSECURE cipher with block size less than 128 bit (64 bit). This allows attacks like SWEET32. Mitigate by using a –cipher with a larger block size (e.g. AES-256-CBC). \u003c^\u003e не страшно конечно, можно и AES-128-CBC оставить."}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Огромнейшее-преогромнейшее человеческое спасибо."}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Спасибо! Отличная статья, всё удалось настроить, всё заработало. Но есть один вопрос: после подключения по vpn есть доступ к другим устройствам локальной сети, но нет доступа к самому серверу, где развёрнут openVPN. Не подскажете, как открыть доступ к серверу с openVPN для клиентов подключённых по vpn?"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Добрый день. Все сделал как гласит статья, но в Android клиенте постоянно пишится Looking up DNS name, что я сделал не так?"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Когда мы пишем правила для UFW, статья говорит добавить такую строчку: -A POSTROUTING -s 10.8.0.0/8 -o eth0 -j MASQUERADE Но по умолчанию OpenVPN выделяет для себя сетку 10.8.0.0/24. Поэтому для безопасности стоит заменить ту строку на -A POSTROUTING -s 10.8.0.0/24 -o eth0 -j MASQUERADE"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Статья замечательная, автору большое спасибо! Хоть и удалось настроить сервер не с первой попытки, но в целом все очень понятно. Пользуюсь OpenVPN чуть больше полугода, очень доволен результатом и стабильностью работы. Недавно у меня возник один вопрос, а так как я новичок в этом деле, то решил задать его здесь, вдруг кто поможет. Как настроить лимит трафика для каждого клиента по отдельности? К примеру для client1 надо 10 Гб, для client2 5 Гб и т.д. С ежемесячным обновлением счетчика трафика для каждого из клиентов по отдельности или для удобства, определенного списка клиентов. Заранее спасибо! "}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Если вы все сделали как написано, но ip все равно тот же - в файл client1.ovpn нужно дописать redirect-gateway def1 Статья отличная, очень помогла."}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Настроил сервер. Все работает отлично, покрайней мере на Андроиде, если сижу через десктоп браузер (Chrome), то большинство сайтов не открывается. Подскажите в чем проблема?"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"START OPENVPN RULES NAT table rules *nat :POSTROUTING ACCEPT [0:0] Allow traffic from OpenVPN client to eth0 -A POSTROUTING -s 10.8.0.0/8 -o eth0 -j MASQUERADE COMMIT END OPENVPN RULES Советую ’nat’ поменять на ’NAT’, потому что может команда не отрабатываться и будет ругаться на эту строку."}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Как теперь, используя используя получившийся vpn, настроить подключение к удаленному рабочему столу, который использует этот vpn. Необходимо подключение к win10 через RDP"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"К опенвпну конектится но ипишник который который родной так и остался родным. Вывод не работает. Если вам надо ипишник сервера. А если делаешь опционально пункт с днс еще и дотсуп пропадает к интернету через опенвпн. С фаирволом я б рекомендовал поокуратней и разобратся по стате базованя настройка которая упоминаеться в самом верху."}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Супер! Все прошло как по маслу! Автору огромный респект!"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Спасибо, все получилось. Правда были некоторые проблемы с запуском и еще некоторые пункты, но разрешил все. Сервер Ubuntu 16.04. Хорошая и подробная статья!"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Все сделал по инструкции, но при попытке подключиться вот такая ошибка: Sat Feb 17 13:57:13 2018 MANAGEMENT: \u003eSTATE:1518868633,RESOLVE,,,,,, Sat Feb 17 13:57:20 2018 RESOLVE: Cannot resolve host address: my-server-1:1194 () Sat Feb 17 13:57:20 2018 Could not determine IPv4/IPv6 protocol Sat Feb 17 13:57:20 2018 SIGUSR1[soft,init_instance] received, process restarting Sat Feb 17 13:57:20 2018 MANAGEMENT: \u003eSTATE:1518868640,RECONNECTING,init_instance,,,,, Sat Feb 17 13:57:20 2018 Restart pause, 10 second(s) Sat Feb 17 13:57:30 2018 MANAGEMENT: \u003eSTATE:1518868650,RESOLVE,,,,,,"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"По настройке сервер проблем не возникло, по тестам - там все работает, но вот с винды не могу зайти через OpenVPN GUI. Вот журнал: Tue Feb 20 22:47:32 2018 NOTE: –user option is not implemented on Windows Tue Feb 20 22:47:32 2018 NOTE: –group option is not implemented on Windows Tue Feb 20 22:47:32 2018 OpenVPN 2.4.4 x8664-w64-mingw32 [SSL (OpenSSL)] [LZO] [LZ4] [PKCS11] [AEAD] built on Sep 26 2017 Tue Feb 20 22:47:32 2018 Windows version 6.2 (Windows 8 or greater) 64bit Tue Feb 20 22:47:32 2018 library versions: OpenSSL 1.0.2l 25 May 2017, LZO 2.10 Enter Management Password: Tue Feb 20 22:47:32 2018 MANAGEMENT: TCP Socket listening on [AFINET]127.0.0.1:25340 Tue Feb 20 22:47:32 2018 Need hold release from management interface, waiting… Tue Feb 20 22:47:32 2018 MANAGEMENT: Client connected from [AF_INET]127.0.0.1:25340 Tue Feb 20 22:47:32 2018 MANAGEMENT: CMD ‘state on’ Tue Feb 20 22:47:32 2018 MANAGEMENT: CMD 'log all on’ Tue Feb 20 22:47:32 2018 MANAGEMENT: CMD 'echo all on’ Tue Feb 20 22:47:32 2018 MANAGEMENT: CMD 'hold off’ Tue Feb 20 22:47:32 2018 MANAGEMENT: CMD 'hold release’ Tue Feb 20 22:47:32 2018 MANAGEMENT: Client disconnected Tue Feb 20 22:47:32 2018 Insufficient key material or header text not found in file ’[[INLINE]]’ (0/128/256 bytes found/min/max) Tue Feb 20 22:47:32 2018 Exiting due to fatal error"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Статья идеальна. Автоматический реконнект периодически происходит без сбоев. Но, при отсутствии трафика на Android, через какое-то время интернет пропадает. При ручном переподключении все восстанавливается. В чем может быть причина?"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Приветствую. Все получилось. Спасибо. Сразу не подключился. Дело было в файрволе. Да и сейчас не решил, после перезагрузки всего сервера, сервис openvpn запускается, но чтобы подключится приходится делать service ufw restart . После чего все успешно… сам ufw как сервис включен в автозапуске, но его все равно надо запускать вручную. OpenVpn настраивал через TCP systemctl status ufw.service ● ufw.service - Uncomplicated firewall Loaded: loaded (/lib/systemd/system/ufw.service; enabled; vendor preset: enabled) Active: failed (Result: exit-code) since Thu 2018-03-15 20:13:31 +06; 15s ago Process: 3554 ExecStart=/lib/ufw/ufw-init start quiet (code=exited, status=1/FAILURE) Main PID: 3554 (code=exited, status=1/FAILURE) Mar 15 20:13:31 test systemd[1]: Starting Uncomplicated firewall… Mar 15 20:13:31 test ufw-init[3554]: ip6tables-restore: line 2 failed Mar 15 20:13:31 test ufw-init[3554]: ip6tables-restore: line 2 failed Mar 15 20:13:31 test systemd[1]: ufw.service: Main process exited, code=exited, status=1/FAILURE Mar 15 20:13:31 test systemd[1]: Failed to start Uncomplicated firewall. Mar 15 20:13:31 test systemd[1]: ufw.service: Unit entered failed state. Mar 15 20:13:31 test systemd[1]: ufw.service: Failed with result ‘exit-code’."}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Добрый день. Статья супер, всё настроил, всё работает. Но проблема в домашенм ноуте. При подключении по впн серверу, пинги на сайты идут, но не могу зайти ни на один сайт, пробовал и с винды и с убунту. Сервер рабочий, конфигурация тоже. Проблема точно дома, поскольку с рабочей машины в офисе всё работает. Может дело в билайне, и он что то режет (в офисе другой провайдер). Что вообще он может резать? прошу помощи кто чем может. Укажите направление."}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"При создании базовой конфигурации клиента вводим IP-адрес сервера, но при периодическом использовании сервера (восстановлении из Snapshot) IP-адрес меняется. Как учесть это при настройке? Если можно по простому, я начинающий… ~/client-configs/base.conf remote serverIPaddress 1194"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Есть еще невероятно простой способ, с помощью графического приложения https://github.com/delfer/ssheller Код открыт, работает под Windows, macOS и Linux. Не требуется никакого доп. софта. И сервер настроит, и файл подключения скачает. И очень хорошо протестировано на DO."}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Отличная статья, спасибо за материал! Все сделал, как написано — VPN работает. Однако обратил внимание, что в логах VPN-клиента постоянно появляются вот такие записи Authenticate/Decrypt packet error: bad packet ID (may be a replay): [ #28319136 ] -- see the man page entry for --no-replay and --replay-window for more info or silence this warning with --mute-replay-warnings При этом сбоев каких-либо не наблюдал. Подскажите, пожалуйста, что это может быть и как с этим бороться?"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Всё работает отлично! Но возник вопрос в следующем. Для телефона устанавливать ВПН на весь трафик я не могу. Но телеграм нужен рабочий. Как запустить SOCKS5 параллельно?"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Завелось, после добавления пуш днс. Но! Подключается, имена ресолвятся, пинг внутри сети идёт, но больше ничего не работает. Проверял конфиг на пк и айфоне. Куда смотреть? Файрволы откл. Пробовал и udp и tcp"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Подскажите, пожалуйста, что делать, если я не могу скачать client1.ovpn? Он действительно есть на сервере, но когда пишу sftp sammy@openvpn_server_ip:client-configs/files/client1.ovpn ~/, ничего не получается, как я понимаю, из-за отключенного входа по паролю."}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Сделал все по инструкции, но при попытке подключиться к серверу через Tunnelblick вижу следующую ошибку: 2018-05-06 19:51:34 OpenSSL: error:0906D06C:PEM routines:PEMreadbio:no start line 2018-05-06 19:51:34 OpenSSL: error:140AD009:SSL routines:SSLCTXusecertificatefile:PEM lib В конфигурационном файле есть строки —–BEGIN RSA PRIVATE KEY—– … —–END RSA PRIVATE KEY—– в чем может быть проблема? Спасибо"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Отличная статья! Правда в моём случае пришлось донастроить, т.к. провайдер перехватывает DNS-запросы и перенаправляет на свои DNS сервера (т.н. DNS Leaking). Если у вас похожая ситуация, нужно добавить в ~/client-configs/base.conf параметр: # Block DNS servers on other network adapters to # prevent DNS leaks. block-outside-dns Для уже существующих *.ovpn файлов можно просто добавить туда, перегенерировать профиль не обязательно."}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Как сделать так чтобы сервер видел клиентов? Клиенты видят и пингуют друг друга и сервер, сервер же никого из них “не видит”. Мне нужно чтобы сервисы запущенные на сервере и на клиентах были доступны внутри тоннеля. Если сервер в тоннеле это 10.8.0.1 а клиент 10.8.0.2, они могли соединяться друг с другом через конкретный указанный порт внутри этой подсети. Сейчас этого не происходит."}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Не работает! OpenVPN на винде делает вид, что все ок, но на самом деле интернет отсутствует напрочь"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Автору, в разделе про клиентскую конфигурацию есть проблема, которая стоила мне 2 дней нервов. В начале в файл добавляется участок для линукс-клиентов, после чего скрипт должен вставить туда сертификат: cat ${BASE_CONFIG} \\ \u003c(echo -e ’\u003cca\u003e’) \\ Здесь не делается перенос на новую строку, таким образом тег \u003cca\u003e в файле оказывается на закоментированной строке и клиент ругается, что у него нет ca-сертификата. Решается заменой на ’\\n\u003cca\u003e’"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Говно собачье! Уже который час на эту срань просрал! sudo systemctl start openvpn@server в ответ пишет Job for openvpn@server.service failed because a timeout was exceeded. See “systemctl status openvpn@server.service” and “journalctl -xe” for details."}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Всем привет! Может кто сталкивался с такой проблемой. Настроил все по статье, на windows и androide все прекрасно работает, а вот на ubunte - ip адрес изменяется, но не меняются DNS сервера."}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"На шаге 11 после ./make_config.sh client1 получаю ./makeconfig.sh: line 20: /dev/fd/63: Permission denied ./makeconfig.sh: line 22: /home/user/openvpn-ca/keys/ca.crt: Permission denied ./makeconfig.sh: line 24: /dev/fd/63: Permission denied ./makeconfig.sh: line 26: /home/user/openvpn-ca/keys/mework1.crt: Permission denied ./makeconfig.sh: line 28: /dev/fd/63: Permission denied ./makeconfig.sh: line 30: /home/user/openvpn-ca/keys/mework1.key: Permission denied ./makeconfig.sh: line 32: /dev/fd/63: Permission denied ./makeconfig.sh: line 34: /home/user/openvpn-ca/keys/ta.key: Permission denied ./make_config.sh: line 36: /dev/fd/63: Permission denied"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Хорошая статья. Однако, если мы проталкиваем адреса DNS серверов, то неплохо добавить в файл базовой конфигурации клиентов: ignore-unknown-option block-outside-dns block-outside-dns На Linux и без них все работает нормально, а вот в Windows происходит утечка DNS."}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"доброго дня. получил ошибку, что certificate is not yet valid: как починить, кто знает?"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Для всех клиентов задаю разные страны но IP показывается для клиентов всех один и тот же. Как исправить ?"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"в Debian 9 утечка DNS несмотря на : script-security 2 up /etc/openvpn/update-resolv-conf down /etc/openvpn/update-resolv-conf Что делать ?"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"ERROR: Cannot ioctl TUNSETIFF tun: Operation not permitted (errno=1) Sun Jan 27 15:41:52 2019 Exiting due to fatal error"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Далее мы можем сгенерировать подпись HMAC для усиления способности сервера проверять целостность TSL: Наверное имелось ввиду TLS"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Есть только cipher AES-256-CBC. Возможно, Вам стоит обновить статью"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Сделал всё по гайду, в Tunnelblick говорит, что passphrase не та. Заглянул в конфиг, там поле \u003ckey\u003e\u003c/key\u003e пустое, это норма?"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Пожалуйста помогите в чем может быть проблема. Ошибка вот: 2018-01-21 20:36:15 TLS Error: TLS key negotiation failed to occur within 60 seconds (check your network connectivity) 2018-01-21 20:36:15 TLS Error: TLS handshake failed"}},{"comment":{"@context":"http://schema.org","@type":"Comment","text":"Здравствуйте, поскажите что исправить для Android OpenVPN Connect При импортировании профиля получаю ошибку: failed to parse profile: option_error: remote option no specified Работу настроил через tcp 443"}}]}
  </script>
  <script type="text/javascript">
    $(function() {
      $('.use-universal-search-js').on('click', function () {
        $('#q').trigger('click');
      });
    });

    window.loadUniversalSearchScript( function () {
      var search = new UniversalSearch({
        element_id: 'q',
        search_on_slash: true,
        primary_list: ['quicknav', 'community_consolidated'],
        secondary_list: ['alldocs', 'marketplace'],
        algolia_app_id: "6ZHEUVKJ88",
        algolia_public_key: "c5470567eae7fa1177d43222e18ba086"
      });
      search.start();
    });
  </script>


    
  

<textarea tabindex="-1" aria-hidden="true" ,="" style="position: absolute; top: -999px; left: 0px; right: auto; bottom: auto; border: 0px; padding: 0px; box-sizing: content-box; overflow-wrap: break-word; overflow: hidden; transition: none 0s ease 0s; height: 0px !important; min-height: 0px !important; font-family: monospace; font-size: 16px; font-weight: 400; font-style: normal; letter-spacing: 0px; text-transform: none; word-spacing: 0px; text-indent: 0px; line-height: normal; width: 713px;" class="autosizejs" id="autosizejs"></textarea><a id="scrollUp" href="https://www.digitalocean.com/community/tutorials/openvpn-ubuntu-16-04-ru#top" style="display: none; position: fixed; z-index: 1000;">Scroll to top</a><div id="scrollUp-active" style="position: absolute; top: 300px; width: 100%; border-top: 1px dotted rgb(0, 255, 255); z-index: 1000;"></div><script type="text/javascript" id="">function getCookie(d){d+="\x3d";var b=decodeURIComponent(document.cookie);b=b.split(";");for(var c=0;c<b.length;c++){for(var a=b[c];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(d))return a.substring(d.length,a.length)}return""}function setCookie(d,b,c){var a=new Date;a.setTime(a.getTime()+6E4*c);document.cookie=d+"\x3d"+escape(b)+(null==c?"":";expires\x3d"+a.toGMTString())}
if(""==getCookie("sessionID")){var randomNumberString=Math.floor(1E7*Math.random()+1).toString();setCookie("sessionID",randomNumberString,30)}else{var sessionID=getCookie("sessionID");setCookie("sessionID",sessionID,30)};</script><div id="1586449621633" class="algolia-universal-search algolia-universal-search_modal"><div class="widget-container">
  <div class="widget-content">

    <div id="searchbox-widget-container">
      <svg class="search_icon" width="14" height="15" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M13.918 13.5742C13.9727 13.6289 14 13.7109 14 13.793C14 13.9023 13.9727 13.9844 13.918 14.0391L13.2891 14.6406C13.207 14.7227 13.125 14.75 13.043 14.75C12.9336 14.75 12.8789 14.7227 12.8242 14.6406L9.48828 11.332C9.43359 11.2773 9.40625 11.1953 9.40625 11.1133V10.7305C8.88672 11.168 8.3125 11.5234 7.68359 11.7695C7.02734 12.0156 6.37109 12.125 5.6875 12.125C4.64844 12.125 3.69141 11.8789 2.81641 11.3594C1.94141 10.8672 1.25781 10.1836 0.765625 9.30859C0.246094 8.43359 0 7.47656 0 6.4375C0 5.39844 0.246094 4.46875 0.765625 3.59375C1.25781 2.71875 1.94141 2.03516 2.81641 1.51562C3.69141 1.02344 4.64844 0.75 5.6875 0.75C6.72656 0.75 7.65625 1.02344 8.53125 1.51562C9.40625 2.03516 10.0898 2.71875 10.6094 3.59375C11.1016 4.46875 11.375 5.39844 11.375 6.4375C11.375 7.14844 11.2383 7.80469 10.9922 8.43359C10.7461 9.08984 10.418 9.66406 9.98047 10.1562H10.3633C10.4453 10.1562 10.5273 10.1836 10.582 10.2383L13.918 13.5742ZM5.6875 10.8125C6.45312 10.8125 7.19141 10.6211 7.875 10.2383C8.53125 9.85547 9.07812 9.30859 9.46094 8.625C9.84375 7.96875 10.0625 7.23047 10.0625 6.4375C10.0625 5.67188 9.84375 4.93359 9.46094 4.25C9.07812 3.59375 8.53125 3.04688 7.875 2.66406C7.19141 2.28125 6.45312 2.0625 5.6875 2.0625C4.89453 2.0625 4.15625 2.28125 3.5 2.66406C2.81641 3.04688 2.26953 3.59375 1.88672 4.25C1.50391 4.93359 1.3125 5.67188 1.3125 6.4375C1.3125 7.23047 1.50391 7.96875 1.88672 8.625C2.26953 9.30859 2.81641 9.85547 3.5 10.2383C4.15625 10.6211 4.89453 10.8125 5.6875 10.8125Z" fill="#99A1B3"></path>
      </svg>
    <input class="navigate-input"><span hidden="">Loading...</span></div>

    <div id="results-widget-container" class="no--search">
      <div class="primary-content"><div class="root-quicknav"><h2 data-cy="titles"></h2><div id="hits-widget-container-quicknav" data-cy="results" style="display: none;"><div><div class="ais-Hits ais-Hits--empty"></div></div></div></div><div class="root-community_consolidated"><h2 data-cy="titles">Community</h2><div id="hits-widget-container-community_consolidated" data-cy="results" style="display: none;"><div><div class="ais-Hits ais-Hits--empty"></div></div></div></div></div>
      <div class="secondary-content"><div class="root-alldocs" style="display: none;"><h2 data-cy="titles">Product and API Docs</h2><div id="hits-widget-container-alldocs" data-cy="results" style="display: none;"><div><div class="ais-Hits ais-Hits--empty"></div></div></div></div><div class="root-marketplace" style="display: none;"><h2 data-cy="titles">Marketplace</h2><div id="hits-widget-container-marketplace" data-cy="results" style="display: none;"><div><div class="ais-Hits ais-Hits--empty"></div></div></div></div></div>
    </div>

    <div class="instructions-bar">
      <svg class="arrowkeys icon" width="11" height="10" viewBox="0 0 11 10" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M2.33325 9V1" stroke="#5B6987" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
        <path d="M1 7.66669L2.33333 9.00002L3.66667 7.66669" stroke="#5B6987" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
        <path d="M7.93335 9V1" stroke="#5B6987" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
        <path d="M6.6001 2.33333L7.93343 1L9.26676 2.33333" stroke="#5B6987" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
      </svg>
      <span class="arrowkeys label">navigate</span>
      <svg class="return icon" width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M2.75 8.5L1.25 7L2.75 5.5" stroke="#5B6987" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
        <path d="M1.25 7H7.25C7.64782 7 8.02936 6.84196 8.31066 6.56066C8.59196 6.27936 8.75 5.89782 8.75 5.5V2.5C8.75 2.10218 8.59196 1.72064 8.31066 1.43934C8.02936 1.15804 7.64782 1 7.25 1H4.5" stroke="#5B6987" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
      </svg>
      <span class="return label">go</span>
      <svg class="escape icon" width="14" height="8" viewBox="0 0 14 8" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M1.31488 7.0051C2.11841 7.34112 2.99499 7.15119 3.62321 6.5522C3.7547 6.42071 3.81314 6.26 3.81314 6.08468C3.81314 5.90937 3.7547 5.74866 3.62321 5.61717C3.49172 5.48569 3.33102 5.41264 3.14109 5.41264C2.96577 5.41264 2.81968 5.48569 2.68819 5.61717C2.45443 5.85093 2.11841 5.90937 1.81161 5.79249C1.5048 5.661 1.31488 5.38342 1.31488 5.04739V4.24386H3.57938C3.94463 4.24386 4.23682 3.95166 4.23682 3.58642V2.12545C4.23682 0.956671 3.28719 0.00703833 2.11841 0.00703833C0.949632 0.00703833 0 0.956671 0 2.12545V5.04739C0 5.92398 0.496731 6.66907 1.31488 7.0051ZM2.11841 1.32191C2.57131 1.32191 2.92195 1.67255 2.92195 2.12545V2.92898H1.31488V2.12545C1.31488 1.67255 1.66551 1.32191 2.11841 1.32191Z" fill="#5B6987"></path>
        <path d="M7.54102 5.661C7.3657 5.82171 7.17577 5.88015 6.95663 5.83632C6.72287 5.8071 6.54755 5.69022 6.44529 5.48569C6.26997 5.17888 5.87551 5.07661 5.53948 5.25193C5.23268 5.42725 5.13041 5.83632 5.30573 6.14312C5.61253 6.68368 6.12387 7.03432 6.75209 7.13659C7.38031 7.23885 7.97931 7.04893 8.43221 6.63985C8.89972 6.21617 9.13348 5.63178 9.08965 5.00356C9.04582 4.37535 8.73901 3.83479 8.22767 3.46954L6.86897 2.51991C6.70826 2.38842 6.60599 2.22772 6.59138 2.02318C6.57677 1.80403 6.64982 1.62872 6.81053 1.49723C6.97124 1.35113 7.16116 1.29269 7.35109 1.33652C7.55563 1.36574 7.71633 1.46801 7.8186 1.65794C7.99392 1.96474 8.40299 2.06701 8.70979 1.89169C9.04582 1.71638 9.13348 1.3073 8.95816 1.0005C8.65136 0.474549 8.14001 0.138525 7.55563 0.0362574C6.95663 -0.0660107 6.37224 0.123916 5.91934 0.518378C5.46643 0.927451 5.23268 1.51184 5.27651 2.11084C5.32034 2.70984 5.62714 3.2504 6.10926 3.60103L7.48258 4.55066C7.65789 4.66754 7.76016 4.84286 7.77477 5.09122C7.78938 5.32498 7.71633 5.51491 7.54102 5.661Z" fill="#5B6987"></path>
        <path d="M11.4871 7.0051C12.3053 7.34112 13.1965 7.15119 13.7955 6.5522C13.927 6.42071 14 6.26 14 6.08468C14 5.90937 13.927 5.74866 13.7955 5.61717C13.664 5.48569 13.5179 5.41264 13.328 5.41264C13.1526 5.41264 13.0065 5.48569 12.875 5.61717C12.6413 5.85093 12.2907 5.90937 11.9985 5.79249C11.6917 5.661 11.5017 5.38342 11.5017 5.04739V2.12545C11.5017 1.78943 11.6917 1.51184 11.9985 1.38035C12.2907 1.26347 12.6413 1.32191 12.875 1.55567C13.0065 1.68716 13.1526 1.76021 13.328 1.76021C13.5179 1.76021 13.664 1.68716 13.7955 1.55567C13.927 1.42418 14 1.27808 14 1.10277C14 0.912841 13.927 0.766744 13.7955 0.635257C13.1965 0.00703845 12.3053 -0.168278 11.4871 0.167745C10.6836 0.503769 10.1869 1.24887 10.1869 2.12545V5.04739C10.1869 5.92398 10.6836 6.66907 11.4871 7.0051Z" fill="#5B6987"></path>
      </svg>
      <span class="escape label">exit</span>
    </div>

  </div>
</div>
</div><script type="text/javascript" id="">window.addEventListener("cookieconsent_statuschange",function(){window.dataLayer.push({event:"cc_dismiss"})});function getCookie(a){var b="; "+document.cookie;a=b.split("; "+a+"\x3d");if(2==a.length)return a.pop().split(";").shift()}getCookie("cookieconsent_status")&&window.dataLayer.push({event:"cc_dismiss"});</script><script type="text/javascript" id="">document.querySelector('li[role\x3d"banner"]').innerHTML='\x3ca href\x3d"https://www.digitalocean.com/community/pages/covid-19" data-pill\x3d"new" title\x3d"Working on something related to COVID-19? DigitalOcean would like to help" target\x3d"_blank" rel\x3d"noopener"\x3eWorking on something related to COVID-19? DigitalOcean would like to help \u276f\x3c/a\x3e';</script>

<script type="text/javascript" id="">!function(a,b){if(!a.rdt){var c=a.rdt=function(){c.sendEvent?c.sendEvent.apply(c,arguments):c.callQueue.push(arguments)};c.callQueue=[];a=b.createElement("script");a.src="https://www.redditstatic.com/ads/pixel.js";a.async=!0;b=b.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}}(window,document);rdt("init","t2_34hog0h9");rdt("track","PageVisit");</script>



</body></html>